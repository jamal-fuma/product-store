  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT * FROM `users` [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"action"=>"show", "id"=>"1005", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1005]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"1011", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1011/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-15 19:41:06) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-15 19:41:06) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 55ms (View: 0, DB: 0) | 302 Found [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#index (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"product_id"=>"1028", "action"=>"index", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1028/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#create (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"product_id"=>"1033", "supplier"=>{"id"=>1037}, "action"=>"create", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1033/suppliers?supplier%5Bid%5D=1037]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1043/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb21cebe @name="Supplier_1052">, #<Supplier:0x..fdb21cebe @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb21cebe @name="Supplier_1052">, #<Supplier:0x..fdb21cebe @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#index (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"action"=>"index", "supplier_id"=>"1054", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1054/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#create (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1057}, "supplier_id"=>"1058", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1058/products?product%5Bid%5D=1057]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1066/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb1c7770 @name="Product_1069">, #<Product:0x..fdb1c7770 @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb1c7770 @name="Product_1069">, #<Product:0x..fdb1c7770 @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments", "bug_id"=>"1074"}
Rendering template within layouts/application
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1074/comments]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"action"=>"show", "id"=>"1075", "controller"=>"comments", "bug_id"=>"1076"}
Rendering template within layouts/application
Rendering comments/show
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1076/comments/1075]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"action"=>"new", "controller"=>"comments", "bug_id"=>"1078"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1078/comments/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-15 19:41:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"1079", "controller"=>"comments", "bug_id"=>"1080"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1080/comments/1079/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 19:41:06) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:06) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Redirected to http://test.host/bugs/1088/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-15 19:41:07) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-15 19:41:07) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Redirected to http://test.host/bugs/1090/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#index (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1092", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1092/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"create", "category_id"=>"1096", "controller"=>"category_images", "image"=>{"id"=>1098}}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1096/images?image%5Bid%5D=1098]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Redirected to http://test.host/categories/1104/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb2ae044 @name="Image_1110">, #<Image:0x..fdb2ae044 @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb2ae044 @name="Image_1110">, #<Image:0x..fdb2ae044 @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#index (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"product_id"=>"1111", "action"=>"index", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1111/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"product_id"=>"1116", "action"=>"create", "controller"=>"product_images", "image"=>{"id"=>1119}}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1116/images?image%5Bid%5D=1119]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Redirected to http://test.host/products/1126/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb20026e @name="Image_1134">, #<Image:0x..fdb20026e @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb20026e @name="Image_1134">, #<Image:0x..fdb20026e @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#index (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#show (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"show", "id"=>"1137", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1137]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#new (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#edit (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"edit", "id"=>"1139", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1139/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1140", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1140]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1141", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1141]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-15 19:41:07) [PUT]
  Parameters: {"action"=>"update", "id"=>"1145", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs/1145
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1145?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-15 19:41:07) [PUT]
  Parameters: {"action"=>"update", "id"=>"1146", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1146?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#index (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"image_id"=>"1150", "action"=>"index", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1150/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"image_id"=>"1154", "category"=>{"id"=>1152}, "action"=>"create", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1154/categories?category%5Bid%5D=1152]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Redirected to http://test.host/images/1162/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb1324e0 @name="Category_1164">, #<Category:0x..fdb1324e0 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb1324e0 @name="Category_1164">, #<Category:0x..fdb1324e0 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#index (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#show (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"show", "id"=>"1169", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1169]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#new (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#edit (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"edit", "id"=>"1173", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1173/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-15 19:41:07) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-15 19:41:07) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#index (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#show (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"show", "id"=>"1189", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1189]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#new (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"edit", "id"=>"1197", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1197/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]


Processing ProductsController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#update (for 0.0.0.0 at 2009-11-15 19:41:07) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]


Processing ProductsController#update (for 0.0.0.0 at 2009-11-15 19:41:07) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#index (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/roles]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#show (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"show", "id"=>"1224", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1224]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#new (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"new", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#edit (for 0.0.0.0 at 2009-11-15 19:41:07) [GET]
  Parameters: {"action"=>"edit", "id"=>"1230", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1230/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]


Processing RolesController#remove (for 0.0.0.0 at 2009-11-15 19:41:07) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]


Processing RolesController#create (for 0.0.0.0 at 2009-11-15 19:41:07) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#update (for 0.0.0.0 at 2009-11-15 19:41:08) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]


Processing RolesController#update (for 0.0.0.0 at 2009-11-15 19:41:08) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#index (for 0.0.0.0 at 2009-11-15 19:41:08) [GET]
  Parameters: {"product_id"=>"1248", "action"=>"index", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1248/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#create (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"category"=>{"id"=>1254}, "product_id"=>"1253", "action"=>"create", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1253/categories?category%5Bid%5D=1254]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Redirected to http://test.host/products/1263/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb219778 @name="Category_1269">, #<Category:0x..fdb219778 @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb219778 @name="Category_1269">, #<Category:0x..fdb219778 @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#index (for 0.0.0.0 at 2009-11-15 19:41:08) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1274", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1274/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#create (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1277}, "category_id"=>"1278", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1278/products?product%5Bid%5D=1277]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Redirected to http://test.host/categories/1286/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb1bcbfe @name="Product_1289">, #<Product:0x..fdb1bcbfe @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb1bcbfe @name="Product_1289">, #<Product:0x..fdb1bcbfe @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#index (for 0.0.0.0 at 2009-11-15 19:41:08) [GET]
  Parameters: {"action"=>"index", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#show (for 0.0.0.0 at 2009-11-15 19:41:08) [GET]
  Parameters: {"action"=>"show", "id"=>"1296", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1296]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#new (for 0.0.0.0 at 2009-11-15 19:41:08) [GET]
  Parameters: {"action"=>"new", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#edit (for 0.0.0.0 at 2009-11-15 19:41:08) [GET]
  Parameters: {"action"=>"edit", "id"=>"1302", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1302/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#create (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]


Processing ImagesController#create (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#update (for 0.0.0.0 at 2009-11-15 19:41:08) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]


Processing ImagesController#update (for 0.0.0.0 at 2009-11-15 19:41:08) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#index (for 0.0.0.0 at 2009-11-15 19:41:08) [GET]
  Parameters: {"image_id"=>"1323", "action"=>"index", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1323/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#create (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"image_id"=>"1327", "action"=>"create", "product"=>{"id"=>1324}, "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1327/products?product%5Bid%5D=1324]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Redirected to http://test.host/images/1335/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-15 19:41:08) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb299702 @name="Product_1336">, #<Product:0x..fdb299702 @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-15 19:41:08) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb299702 @name="Product_1336">, #<Product:0x..fdb299702 @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'A valid category name' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('A valid category name', 1, '2009-11-15 19:41:08', '2009-11-15 19:41:08', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (7.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'A valid bug title') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 19:41:08', 'A valid bug title', '2009-11-15 19:41:08', 1, 'A valid bug description', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'value for name') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('value for name', 1, '2009-11-15 19:41:08', 0, '2009-11-15 19:41:08', 0, 6, 'empty', 'empty', 'value for description', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.2ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 19:41:10', 'Acme products dont appear', '2009-11-15 19:41:10', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 19:41:10', 'Acme products dont appear', '2009-11-15 19:41:10', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.2ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 19:41:10', 'Acme products dont appear', '2009-11-15 19:41:10', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-15 19:41:10', 'Beers costs more', '2009-11-15 19:41:10', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (4,5)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-15 19:41:10', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 4) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-15 19:41:10', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 5) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 19:41:10', 'Acme products dont appear', '2009-11-15 19:41:10', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-15 19:41:10', 'Beers costs more', '2009-11-15 19:41:10', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-15 19:41:10', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-15 19:41:10', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-15 19:41:10', `position` = 2 WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-15 19:41:10', `position` = 1 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mCategory Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 19:41:10', '2009-11-15 19:41:10', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 19:41:10', '2009-11-15 19:41:10', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 1' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 1', 1, '2009-11-15 19:41:10', '2009-11-15 19:41:10', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 2' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 2', 2, '2009-11-15 19:41:10', '2009-11-15 19:41:10', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (4,5)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 4) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 4) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 4) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:10', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 5) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 5) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 5) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:10', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 19:41:10', '2009-11-15 19:41:10', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 19:41:10', '2009-11-15 19:41:10', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:10', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:10', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:10', `position` = 3 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:10', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 19:41:10', '2009-11-15 19:41:10', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id = 8) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 1, '2009-11-15 19:41:10', '2009-11-15 19:41:10', 8, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 8) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 19:41:10', 'image/jpeg', NULL, '2009-11-15 19:41:10', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 1 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:10', 'image/jpeg', 'thumb', '2009-11-15 19:41:10', 1, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 19:41:11', 'image/jpeg', NULL, '2009-11-15 19:41:11', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 3 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:11', 'image/jpeg', 'thumb', '2009-11-15 19:41:11', 3, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 19:41:11', '2009-11-15 19:41:11', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 19:41:11', '2009-11-15 19:41:11', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_images`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`category_id` = 10 AND `category_images`.`image_id` IN (3,1)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 1[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 2[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 19:41:11', 0, '2009-11-15 19:41:11', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 19:41:11', 0, '2009-11-15 19:41:11', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 19:41:11', '2009-11-15 19:41:11', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 19:41:11', '2009-11-15 19:41:11', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-15 19:41:11', 2, '2009-11-15 19:41:11', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-15 19:41:11', 3, '2009-11-15 19:41:11', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:11', `position` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:11', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`category_id` = 12 AND `category_products`.`product_id` IN (3,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-15 19:41:11', 2, '2009-11-15 19:41:11', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (10.5ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.2ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-15 19:41:11', 3, '2009-11-15 19:41:11', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 1, NULL, 'Acme products dont appear')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 1, NULL, 'Beers costs more')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 1) [0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 2) [0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 1, NULL, 'Beers costs more')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-15 19:41:11', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-15 19:41:11', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-15 19:41:11', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-15 19:41:11', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 19:41:11', 'image/jpeg', NULL, '2009-11-15 19:41:11', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 5 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:11', 'image/jpeg', 'thumb', '2009-11-15 19:41:11', 5, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 19:41:11', 'image/jpeg', NULL, '2009-11-15 19:41:11', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 7 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:11', 'image/jpeg', 'thumb', '2009-11-15 19:41:11', 7, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` WHERE (`images`.`parent_id` IS NULL) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (5,7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 5) ORDER BY position[0m
  [4;35;1mImageCategory Columns (0.2ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 5) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position, position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 6) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 6) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 6) ORDER BY position, position[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 5 AND position > 1) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 6[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 7) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 7) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position, position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 8) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 8) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 8) ORDER BY position, position[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 7 AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 8[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 8[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = NULL WHERE `id` = 7[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 19:41:11', 'image/jpeg', NULL, '2009-11-15 19:41:11', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 9 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:11', 'image/jpeg', 'thumb', '2009-11-15 19:41:11', 9, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-3' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 19:41:11', 'image/jpeg', NULL, '2009-11-15 19:41:11', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 11 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-3' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:11', 'image/jpeg', 'thumb', '2009-11-15 19:41:11', 11, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = 2 WHERE `id` = 9[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = 1 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = 2 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:11', `position` = 1 WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-4' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 19:41:11', 'image/jpeg', NULL, '2009-11-15 19:41:11', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 13 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-4' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 13) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:11', 'image/jpeg', 'thumb', '2009-11-15 19:41:11', 13, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-5' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 19:41:11', 'image/jpeg', NULL, '2009-11-15 19:41:11', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 15 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-5' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 15) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:11', 'image/jpeg', 'thumb', '2009-11-15 19:41:11', 15, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 19:41:11', '2009-11-15 19:41:11', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 19:41:11', '2009-11-15 19:41:11', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.2ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-15 19:41:11', '2009-11-15 19:41:11', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:11', `position` = 2 WHERE `id` = 14[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:11', `position` = 1 WHERE `id` = 15[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.`category_id` IN (15,14)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-15 19:41:11', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-15 19:41:11', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-15 19:41:12', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-15 19:41:12', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 19:41:12', 'image/jpeg', NULL, '2009-11-15 19:41:12', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 17 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 17) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:12', 'image/jpeg', 'thumb', '2009-11-15 19:41:12', 17, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 19:41:12', 'image/jpeg', NULL, '2009-11-15 19:41:12', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 19 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 19) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:12', 'image/jpeg', 'thumb', '2009-11-15 19:41:12', 19, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-15 19:41:12', 4, '2009-11-15 19:41:12', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-15 19:41:12', 5, '2009-11-15 19:41:12', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.`product_id` IN (5,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-15 19:41:12', 4, '2009-11-15 19:41:12', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-15 19:41:12', 5, '2009-11-15 19:41:12', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;35;1mSQL (3.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme', 1, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers', 2, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` IN (8,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 8) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 8) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.2ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 8) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 9[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 9) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 9) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 9) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme products dont appear', 1, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers costs more', 2, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 19:41:12', '2009-11-15 19:41:12', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 19:41:12', '2009-11-15 19:41:12', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mProductCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_products`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-15 19:41:12', 12, '2009-11-15 19:41:12', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-15 19:41:12', 12, '2009-11-15 19:41:12', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 16[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 17[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`category_id` IN (17,16) AND `category_products`.`product_id` = 12) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-15 19:41:12', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-15 19:41:12', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.2ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-15 19:41:12', 12, '2009-11-15 19:41:12', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-15 19:41:12', 12, '2009-11-15 19:41:12', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.2ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-15 19:41:12', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-15 19:41:12', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 19:41:12', 'image/jpeg', NULL, '2009-11-15 19:41:12', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 21 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 21) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:12', 'image/jpeg', 'thumb', '2009-11-15 19:41:12', 21, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 19:41:12', 'image/jpeg', NULL, '2009-11-15 19:41:12', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 23 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri25463-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 23) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 19:41:12', 'image/jpeg', 'thumb', '2009-11-15 19:41:12', 23, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-15 19:41:12', 14, '2009-11-15 19:41:12', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-15 19:41:12', 14, '2009-11-15 19:41:12', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 21[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 23[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`image_id` IN (23,21) AND `product_images`.`product_id` = 14) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-15 19:41:12', `product_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-15 19:41:12', `product_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-15 19:41:12', 14, '2009-11-15 19:41:12', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-15 19:41:12', 14, '2009-11-15 19:41:12', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (7,8)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-15 19:41:12', `product_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-15 19:41:12', `product_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSupplier Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `suppliers`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProductSupplier Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Columns (0.2ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-15 19:41:12', 16, '2009-11-15 19:41:12', 1, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-15 19:41:12', 16, '2009-11-15 19:41:12', 2, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` IN (2,1) AND `supplier_products`.`product_id` = 16) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 19:41:12', `supplier_position` = NULL WHERE `id` = 1[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 19:41:12', `supplier_position` = NULL WHERE `id` = 2[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-15 19:41:12', 16, '2009-11-15 19:41:12', 1, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-15 19:41:12', 16, '2009-11-15 19:41:12', 2, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (3,4)) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 19:41:12', `supplier_position` = NULL WHERE `id` = 3[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 19:41:12', `supplier_position` = NULL WHERE `id` = 4[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 'a random blurb', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 'yet more blurm', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mRole Destroy (0.1ms)[0m   [0mDELETE FROM `roles` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mRole Destroy (0.1ms)[0m   [0;1mDELETE FROM `roles` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 'a random blurb', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 'yet more blurm', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 3) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 19:41:12', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 4) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', '2009-11-15 19:41:12', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 19:41:12', `position` = 2 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-15 19:41:12', `position` = 1 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 19:41:12', 0, '2009-11-15 19:41:12', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.2ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-15 19:41:13', '2009-11-15 19:41:13', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-15 19:41:13', '2009-11-15 19:41:13', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-15 19:41:13', 18, '2009-11-15 19:41:13', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-15 19:41:13', 19, '2009-11-15 19:41:13', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:13', `position` = 2 WHERE `id` = 18[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 19:41:13', `position` = 1 WHERE `id` = 19[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 7 AND `supplier_products`.`product_id` IN (19,18)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 19:41:13', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 19:41:13', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-15 19:41:13', 18, '2009-11-15 19:41:13', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-15 19:41:13', 19, '2009-11-15 19:41:13', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (7,8)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 19:41:13', `position` = NULL WHERE `id` = 7[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 19:41:13', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"show", "id"=>"1005", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1005]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"edit", "id"=>"1011", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1011/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-15 20:48:41) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-15 20:48:41) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#index (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"product_id"=>"1028", "action"=>"index", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1028/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"product_id"=>"1033", "supplier"=>{"id"=>1037}, "action"=>"create", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1033/suppliers?supplier%5Bid%5D=1037]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1043/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb19e21c @name="Supplier_1052">, #<Supplier:0x..fdb19e21c @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb19e21c @name="Supplier_1052">, #<Supplier:0x..fdb19e21c @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#index (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"index", "supplier_id"=>"1054", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1054/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1057}, "supplier_id"=>"1058", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1058/products?product%5Bid%5D=1057]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1066/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb14679c @name="Product_1069">, #<Product:0x..fdb14679c @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb14679c @name="Product_1069">, #<Product:0x..fdb14679c @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments", "bug_id"=>"1074"}
Rendering template within layouts/application
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1074/comments]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"show", "id"=>"1075", "controller"=>"comments", "bug_id"=>"1076"}
Rendering template within layouts/application
Rendering comments/show
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1076/comments/1075]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"comments", "bug_id"=>"1078"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1078/comments/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"edit", "id"=>"1079", "controller"=>"comments", "bug_id"=>"1080"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1080/comments/1079/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Redirected to http://test.host/bugs/1088/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-15 20:48:41) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-15 20:48:41) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Redirected to http://test.host/bugs/1090/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#index (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1092", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1092/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"create", "category_id"=>"1096", "controller"=>"category_images", "image"=>{"id"=>1098}}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1096/images?image%5Bid%5D=1098]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Redirected to http://test.host/categories/1104/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb219688 @name="Image_1110">, #<Image:0x..fdb219688 @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb219688 @name="Image_1110">, #<Image:0x..fdb219688 @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#index (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"product_id"=>"1111", "action"=>"index", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1111/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"product_id"=>"1116", "action"=>"create", "controller"=>"product_images", "image"=>{"id"=>1119}}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1116/images?image%5Bid%5D=1119]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Redirected to http://test.host/products/1126/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb17d972 @name="Image_1134">, #<Image:0x..fdb17d972 @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb17d972 @name="Image_1134">, #<Image:0x..fdb17d972 @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#index (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#show (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"show", "id"=>"1137", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1137]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#new (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#edit (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"edit", "id"=>"1139", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1139/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1140", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1140]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1141", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1141]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-15 20:48:41) [PUT]
  Parameters: {"action"=>"update", "id"=>"1145", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs/1145
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1145?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-15 20:48:41) [PUT]
  Parameters: {"action"=>"update", "id"=>"1146", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1146?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#index (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"image_id"=>"1150", "action"=>"index", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1150/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#create (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"image_id"=>"1154", "category"=>{"id"=>1152}, "action"=>"create", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1154/categories?category%5Bid%5D=1152]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Redirected to http://test.host/images/1162/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-15 20:48:41) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb0b08c8 @name="Category_1164">, #<Category:0x..fdb0b08c8 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:41) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb0b08c8 @name="Category_1164">, #<Category:0x..fdb0b08c8 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#index (for 0.0.0.0 at 2009-11-15 20:48:41) [GET]
  Parameters: {"action"=>"index", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#show (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"show", "id"=>"1169", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1169]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#new (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#edit (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"edit", "id"=>"1173", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1173/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-15 20:48:42) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-15 20:48:42) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#index (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#show (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"show", "id"=>"1189", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1189]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#new (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"edit", "id"=>"1197", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1197/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]


Processing ProductsController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#update (for 0.0.0.0 at 2009-11-15 20:48:42) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]


Processing ProductsController#update (for 0.0.0.0 at 2009-11-15 20:48:42) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#index (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#show (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"show", "id"=>"1224", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1224]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#new (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#edit (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"edit", "id"=>"1230", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1230/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]


Processing RolesController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]


Processing RolesController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#update (for 0.0.0.0 at 2009-11-15 20:48:42) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]


Processing RolesController#update (for 0.0.0.0 at 2009-11-15 20:48:42) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#index (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"product_id"=>"1248", "action"=>"index", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1248/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"category"=>{"id"=>1254}, "product_id"=>"1253", "action"=>"create", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1253/categories?category%5Bid%5D=1254]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Redirected to http://test.host/products/1263/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb1989de @name="Category_1269">, #<Category:0x..fdb1989de @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb1989de @name="Category_1269">, #<Category:0x..fdb1989de @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#index (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1274", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1274/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1277}, "category_id"=>"1278", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1278/products?product%5Bid%5D=1277]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Redirected to http://test.host/categories/1286/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb13c0c6 @name="Product_1289">, #<Product:0x..fdb13c0c6 @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb13c0c6 @name="Product_1289">, #<Product:0x..fdb13c0c6 @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#index (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#show (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"show", "id"=>"1296", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1296]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#new (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#edit (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"action"=>"edit", "id"=>"1302", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1302/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]


Processing ImagesController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#update (for 0.0.0.0 at 2009-11-15 20:48:42) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]


Processing ImagesController#update (for 0.0.0.0 at 2009-11-15 20:48:42) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#index (for 0.0.0.0 at 2009-11-15 20:48:42) [GET]
  Parameters: {"image_id"=>"1323", "action"=>"index", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1323/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#create (for 0.0.0.0 at 2009-11-15 20:48:42) [POST]
  Parameters: {"image_id"=>"1327", "action"=>"create", "product"=>{"id"=>1324}, "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1327/products?product%5Bid%5D=1324]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Redirected to http://test.host/images/1335/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-15 20:48:42) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:43) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb20ad18 @name="Product_1336">, #<Product:0x..fdb20ad18 @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-15 20:48:43) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb20ad18 @name="Product_1336">, #<Product:0x..fdb20ad18 @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'A valid category name' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('A valid category name', 1, '2009-11-15 20:48:43', '2009-11-15 20:48:43', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (5.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'A valid bug title') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 20:48:43', 'A valid bug title', '2009-11-15 20:48:43', 1, 'A valid bug description', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'value for name') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('value for name', 1, '2009-11-15 20:48:43', 0, '2009-11-15 20:48:43', 0, 6, 'empty', 'empty', 'value for description', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1005", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1005]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"edit", "id"=>"1011", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1011/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-15 21:03:04) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-15 21:03:04) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#index (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"product_id"=>"1028", "action"=>"index", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1028/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#create (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"product_id"=>"1033", "supplier"=>{"id"=>1037}, "action"=>"create", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1033/suppliers?supplier%5Bid%5D=1037]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1043/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb1bfd68 @name="Supplier_1052">, #<Supplier:0x..fdb1bfd68 @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb1bfd68 @name="Supplier_1052">, #<Supplier:0x..fdb1bfd68 @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#index (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"index", "supplier_id"=>"1054", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1054/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#create (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1057}, "supplier_id"=>"1058", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1058/products?product%5Bid%5D=1057]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1066/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb2a69f2 @name="Product_1069">, #<Product:0x..fdb2a69f2 @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb2a69f2 @name="Product_1069">, #<Product:0x..fdb2a69f2 @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments", "bug_id"=>"1074"}
Rendering template within layouts/application
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1074/comments]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1075", "controller"=>"comments", "bug_id"=>"1076"}
Rendering template within layouts/application
Rendering comments/show
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1076/comments/1075]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"comments", "bug_id"=>"1078"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1078/comments/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"edit", "id"=>"1079", "controller"=>"comments", "bug_id"=>"1080"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1080/comments/1079/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Redirected to http://test.host/bugs/1088/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-15 21:03:04) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-15 21:03:04) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Redirected to http://test.host/bugs/1090/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#index (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1092", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1092/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#create (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"action"=>"create", "category_id"=>"1096", "controller"=>"category_images", "image"=>{"id"=>1098}}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1096/images?image%5Bid%5D=1098]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Redirected to http://test.host/categories/1104/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1b65f6 @name="Image_1110">, #<Image:0x..fdb1b65f6 @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1b65f6 @name="Image_1110">, #<Image:0x..fdb1b65f6 @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#index (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"product_id"=>"1111", "action"=>"index", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1111/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#create (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"product_id"=>"1116", "action"=>"create", "controller"=>"product_images", "image"=>{"id"=>1119}}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1116/images?image%5Bid%5D=1119]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Redirected to http://test.host/products/1126/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb14f5a4 @name="Image_1134">, #<Image:0x..fdb14f5a4 @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:04) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb14f5a4 @name="Image_1134">, #<Image:0x..fdb14f5a4 @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#index (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/index
Completed in 5ms (View: 0, DB: 1) | 200 OK [http://test.host/bugs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing BugsController#show (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"show", "id"=>"1137", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1137]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#new (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"new", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#edit (for 0.0.0.0 at 2009-11-15 21:03:04) [GET]
  Parameters: {"action"=>"edit", "id"=>"1139", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1139/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1140", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1140]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:04) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1141", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1141]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-15 21:03:05) [PUT]
  Parameters: {"action"=>"update", "id"=>"1145", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs/1145
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1145?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-15 21:03:05) [PUT]
  Parameters: {"action"=>"update", "id"=>"1146", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1146?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#index (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"image_id"=>"1150", "action"=>"index", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1150/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"image_id"=>"1154", "category"=>{"id"=>1152}, "action"=>"create", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1154/categories?category%5Bid%5D=1152]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Redirected to http://test.host/images/1162/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb20c140 @name="Category_1164">, #<Category:0x..fdb20c140 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb20c140 @name="Category_1164">, #<Category:0x..fdb20c140 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#index (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#show (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"show", "id"=>"1169", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1169]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#new (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#edit (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"edit", "id"=>"1173", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1173/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-15 21:03:05) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-15 21:03:05) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#index (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#show (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"show", "id"=>"1189", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1189]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#new (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"edit", "id"=>"1197", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1197/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]


Processing ProductsController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#update (for 0.0.0.0 at 2009-11-15 21:03:05) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]


Processing ProductsController#update (for 0.0.0.0 at 2009-11-15 21:03:05) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#index (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#show (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"show", "id"=>"1224", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1224]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#new (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#edit (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"edit", "id"=>"1230", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1230/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]


Processing RolesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]


Processing RolesController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#update (for 0.0.0.0 at 2009-11-15 21:03:05) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]


Processing RolesController#update (for 0.0.0.0 at 2009-11-15 21:03:05) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#index (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"product_id"=>"1248", "action"=>"index", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1248/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"category"=>{"id"=>1254}, "product_id"=>"1253", "action"=>"create", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1253/categories?category%5Bid%5D=1254]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Redirected to http://test.host/products/1263/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb16f908 @name="Category_1269">, #<Category:0x..fdb16f908 @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb16f908 @name="Category_1269">, #<Category:0x..fdb16f908 @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#index (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1274", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1274/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#create (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1277}, "category_id"=>"1278", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1278/products?product%5Bid%5D=1277]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Redirected to http://test.host/categories/1286/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb29984c @name="Product_1289">, #<Product:0x..fdb29984c @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb29984c @name="Product_1289">, #<Product:0x..fdb29984c @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#index (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"index", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#show (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"show", "id"=>"1296", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1296]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#new (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"new", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#edit (for 0.0.0.0 at 2009-11-15 21:03:05) [GET]
  Parameters: {"action"=>"edit", "id"=>"1302", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1302/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-15 21:03:05) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-15 21:03:05) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#create (for 0.0.0.0 at 2009-11-15 21:03:06) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]


Processing ImagesController#create (for 0.0.0.0 at 2009-11-15 21:03:06) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#update (for 0.0.0.0 at 2009-11-15 21:03:06) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]


Processing ImagesController#update (for 0.0.0.0 at 2009-11-15 21:03:06) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#index (for 0.0.0.0 at 2009-11-15 21:03:06) [GET]
  Parameters: {"image_id"=>"1323", "action"=>"index", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1323/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#create (for 0.0.0.0 at 2009-11-15 21:03:06) [POST]
  Parameters: {"image_id"=>"1327", "action"=>"create", "product"=>{"id"=>1324}, "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1327/products?product%5Bid%5D=1324]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:06) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-15 21:03:06) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:06) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Redirected to http://test.host/images/1335/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-15 21:03:06) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:06) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb1ab99e @name="Product_1336">, #<Product:0x..fdb1ab99e @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-15 21:03:06) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb1ab99e @name="Product_1336">, #<Product:0x..fdb1ab99e @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'A valid category name' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('A valid category name', 1, '2009-11-15 21:03:06', '2009-11-15 21:03:06', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (6.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'A valid bug title') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 21:03:06', 'A valid bug title', '2009-11-15 21:03:06', 1, 'A valid bug description', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'value for name') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('value for name', 1, '2009-11-15 21:03:06', 0, '2009-11-15 21:03:06', 0, 6, 'empty', 'empty', 'value for description', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 21:03:08', 'Acme products dont appear', '2009-11-15 21:03:08', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 21:03:08', 'Acme products dont appear', '2009-11-15 21:03:08', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 21:03:08', 'Acme products dont appear', '2009-11-15 21:03:08', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-15 21:03:08', 'Beers costs more', '2009-11-15 21:03:08', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (4,5)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 4) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 5) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-15 21:03:08', 'Acme products dont appear', '2009-11-15 21:03:08', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-15 21:03:08', 'Beers costs more', '2009-11-15 21:03:08', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-15 21:03:08', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-15 21:03:08', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-15 21:03:08', `position` = 2 WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-15 21:03:08', `position` = 1 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mCategory Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 1' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 1', 1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 2' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 2', 2, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (4,5)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 4) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 4) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 4) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 5) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 5) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 5) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:08', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:08', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:08', `position` = 3 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:08', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id = 8) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 8, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 8) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 21:03:08', 'image/jpeg', NULL, '2009-11-15 21:03:08', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 1 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:08', 'image/jpeg', 'thumb', '2009-11-15 21:03:08', 1, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 21:03:08', 'image/jpeg', NULL, '2009-11-15 21:03:08', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 3 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:08', 'image/jpeg', 'thumb', '2009-11-15 21:03:08', 3, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_images`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:08', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:08', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`category_id` = 10 AND `category_images`.`image_id` IN (3,1)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 1[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 2[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mSQL (4.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 21:03:08', 0, '2009-11-15 21:03:08', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 21:03:08', 0, '2009-11-15 21:03:08', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 21:03:08', '2009-11-15 21:03:08', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-15 21:03:08', 2, '2009-11-15 21:03:08', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-15 21:03:08', 3, '2009-11-15 21:03:08', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:08', `position` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:08', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` IN (3,2) AND `category_products`.`category_id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-15 21:03:08', 2, '2009-11-15 21:03:08', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-15 21:03:08', 3, '2009-11-15 21:03:08', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 1, NULL, 'Acme products dont appear')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 1, NULL, 'Beers costs more')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 1) [0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 2) [0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (1.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 1, NULL, 'Beers costs more')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-15 21:03:08', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-15 21:03:08', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-15 21:03:08', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-15 21:03:08', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-15 21:03:08', '2009-11-15 21:03:08', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 21:03:08', 'image/jpeg', NULL, '2009-11-15 21:03:08', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 5 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:08', 'image/jpeg', 'thumb', '2009-11-15 21:03:08', 5, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-3' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 21:03:08', 'image/jpeg', NULL, '2009-11-15 21:03:08', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 7 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-3' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:08', 'image/jpeg', 'thumb', '2009-11-15 21:03:08', 7, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` WHERE (`images`.`parent_id` IS NULL) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (5,7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 5) ORDER BY position[0m
  [4;35;1mImageCategory Columns (11.2ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mImageCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 5) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position, position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 6) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 6) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 6) ORDER BY position, position[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 5 AND position > 1) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 6[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 7) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 7) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position, position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 8) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 8) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 8) ORDER BY position, position[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 7 AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:08', `position` = NULL WHERE `id` = 8[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 8[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:09', `position` = NULL WHERE `id` = 7[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 21:03:09', 'image/jpeg', NULL, '2009-11-15 21:03:09', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 9 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:09', 'image/jpeg', 'thumb', '2009-11-15 21:03:09', 9, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 21:03:09', 'image/jpeg', NULL, '2009-11-15 21:03:09', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 11 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:09', 'image/jpeg', 'thumb', '2009-11-15 21:03:09', 11, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:09', `position` = 2 WHERE `id` = 9[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:09', `position` = 1 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:09', `position` = 2 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:09', `position` = 1 WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 21:03:09', 'image/jpeg', NULL, '2009-11-15 21:03:09', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 13 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 13) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:09', 'image/jpeg', 'thumb', '2009-11-15 21:03:09', 13, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-4' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 21:03:09', 'image/jpeg', NULL, '2009-11-15 21:03:09', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 15 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-4' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 15) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:09', 'image/jpeg', 'thumb', '2009-11-15 21:03:09', 15, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 21:03:09', '2009-11-15 21:03:09', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 21:03:09', '2009-11-15 21:03:09', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-15 21:03:09', '2009-11-15 21:03:09', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-15 21:03:09', '2009-11-15 21:03:09', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:09', `position` = 2 WHERE `id` = 14[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:09', `position` = 1 WHERE `id` = 15[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.`category_id` IN (15,14)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-15 21:03:09', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-15 21:03:09', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-15 21:03:09', '2009-11-15 21:03:09', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-15 21:03:09', '2009-11-15 21:03:09', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-15 21:03:09', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-15 21:03:09', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;36;1mSQL (3.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-5' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 21:03:09', 'image/jpeg', NULL, '2009-11-15 21:03:09', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 17 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-5' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 17) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:09', 'image/jpeg', 'thumb', '2009-11-15 21:03:09', 17, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-6' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 21:03:09', 'image/jpeg', NULL, '2009-11-15 21:03:09', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 19 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-6' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 19) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:09', 'image/jpeg', 'thumb', '2009-11-15 21:03:09', 19, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-15 21:03:09', 4, '2009-11-15 21:03:09', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-15 21:03:09', 5, '2009-11-15 21:03:09', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:09', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:09', `position` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` IN (5,4) AND `product_images`.`image_id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-15 21:03:09', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-15 21:03:09', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-15 21:03:09', 4, '2009-11-15 21:03:09', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-15 21:03:09', 5, '2009-11-15 21:03:09', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-15 21:03:09', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-15 21:03:09', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme', 1, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers', 2, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` IN (8,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:09', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 8) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 8) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.2ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 8) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:09', `position` = NULL WHERE `id` = 9[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 9) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 9) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 9) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme products dont appear', 1, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers costs more', 2, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:09', `position` = 2 WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:09', `position` = 1 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:09', `position` = 2 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:09', `position` = 1 WHERE `id` = 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 21:03:09', 0, '2009-11-15 21:03:09', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-15 21:03:09', '2009-11-15 21:03:09', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-15 21:03:09', '2009-11-15 21:03:09', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mProductCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_products`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-15 21:03:09', 12, '2009-11-15 21:03:09', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-15 21:03:09', 12, '2009-11-15 21:03:09', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:09', `position` = 2 WHERE `id` = 16[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-15 21:03:09', `position` = 1 WHERE `id` = 17[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.`category_id` IN (17,16)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-15 21:03:09', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-15 21:03:09', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-15 21:03:09', 12, '2009-11-15 21:03:09', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-15 21:03:09', 12, '2009-11-15 21:03:09', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-15 21:03:09', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-15 21:03:09', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-15 21:03:10', 'image/jpeg', NULL, '2009-11-15 21:03:10', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 21 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 21) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:10', 'image/jpeg', 'thumb', '2009-11-15 21:03:10', 21, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-15 21:03:10', 'image/jpeg', NULL, '2009-11-15 21:03:10', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 23 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri26901-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 23) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-15 21:03:10', 'image/jpeg', 'thumb', '2009-11-15 21:03:10', 23, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 21:03:10', 0, '2009-11-15 21:03:10', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 21:03:10', 0, '2009-11-15 21:03:10', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-15 21:03:10', 14, '2009-11-15 21:03:10', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-15 21:03:10', 14, '2009-11-15 21:03:10', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:10', `position` = 2 WHERE `id` = 21[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-15 21:03:10', `position` = 1 WHERE `id` = 23[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.`image_id` IN (23,21)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-15 21:03:10', `product_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.2ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-15 21:03:10', `product_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-15 21:03:10', 14, '2009-11-15 21:03:10', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-15 21:03:10', 14, '2009-11-15 21:03:10', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (7,8)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-15 21:03:10', `product_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-15 21:03:10', `product_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSupplier Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `suppliers`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 21:03:10', 0, '2009-11-15 21:03:10', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 21:03:10', 0, '2009-11-15 21:03:10', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProductSupplier Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-15 21:03:10', 16, '2009-11-15 21:03:10', 1, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-15 21:03:10', 16, '2009-11-15 21:03:10', 2, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-15 21:03:10', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 21:03:10', `position` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` IN (2,1) AND `supplier_products`.`product_id` = 16) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 21:03:10', `supplier_position` = NULL WHERE `id` = 1[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 21:03:10', `supplier_position` = NULL WHERE `id` = 2[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-15 21:03:10', 16, '2009-11-15 21:03:10', 1, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-15 21:03:10', 16, '2009-11-15 21:03:10', 2, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (3,4)) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 21:03:10', `supplier_position` = NULL WHERE `id` = 3[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 21:03:10', `supplier_position` = NULL WHERE `id` = 4[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSQL (4.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 'a random blurb', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 'yet more blurm', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-15 21:03:10', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mRole Destroy (0.1ms)[0m   [0mDELETE FROM `roles` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-15 21:03:10', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mRole Destroy (0.1ms)[0m   [0;1mDELETE FROM `roles` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 'a random blurb', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 'yet more blurm', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-15 21:03:10', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-15 21:03:10', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-15 21:03:10', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-15 21:03:10', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (1.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 21:03:10', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 3) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 21:03:10', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 4) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 21:03:10', `position` = 2 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-15 21:03:10', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-15 21:03:10', `position` = 2 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-15 21:03:10', `position` = 1 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-15 21:03:10', 0, '2009-11-15 21:03:10', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-15 21:03:10', 0, '2009-11-15 21:03:10', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-15 21:03:10', '2009-11-15 21:03:10', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-15 21:03:10', 18, '2009-11-15 21:03:10', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-15 21:03:10', 19, '2009-11-15 21:03:10', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:10', `position` = 2 WHERE `id` = 18[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-15 21:03:10', `position` = 1 WHERE `id` = 19[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 7 AND `supplier_products`.`product_id` IN (19,18)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 21:03:10', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 21:03:10', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-15 21:03:10', 18, '2009-11-15 21:03:10', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-15 21:03:10', 19, '2009-11-15 21:03:10', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (7,8)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 21:03:10', `position` = NULL WHERE `id` = 7[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-15 21:03:10', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `bugs`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `bugs`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `category_images`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `category_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mdescribe `category_products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `category_products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `comments`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `comments`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `images`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `images`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `product_images`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `product_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mdescribe `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `roles`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `supplier_products`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `supplier_products`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `suppliers`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `suppliers`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `suppliers`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mdescribe `users`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (11.5ms)[0m   [0mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `supplier_id` int(11) DEFAULT 6 NOT NULL, `name` varchar(64) DEFAULT 'empty' NOT NULL, `cost_price` int(11) DEFAULT 0 NOT NULL, `weight` int(11) DEFAULT 0 NOT NULL, `order_code` varchar(16) DEFAULT 'empty' NOT NULL, `packaging` varchar(100) DEFAULT 'empty' NOT NULL, `description` varchar(1024) DEFAULT 'empty' NOT NULL, `filename` varchar(200) DEFAULT 'empty' NOT NULL, `position` integer NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [4;36;1mSQL (14.9ms)[0m   [0;1mCREATE INDEX `index_products_on_name` ON `products` (`name`)[0m
  [4;35;1mSQL (2.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20091023045044')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `bugs`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `bugs`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `category_images`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `category_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mdescribe `category_products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `category_products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `comments`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `comments`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `images`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `images`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `product_images`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `product_images`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW FIELDS FROM `supplier_products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mdescribe `supplier_products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `supplier_products`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `suppliers`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mdescribe `suppliers`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `suppliers`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateBugsTable (20090910134051)
Migrating to CreateUsersTable (20090911210514)
Migrating to CreateRolesTable (20090911215839)
Migrating to AddSuppliersTable (20090913225935)
Migrating to AddCategoriesTable (20090914150013)
Migrating to CreateComments (20090926004548)
Migrating to CreateCategoryProducts (20091018025228)
Migrating to CreateImages (20091018025418)
Migrating to CreateProductImages (20091018030708)
Migrating to CreateSupplierProducts (20091018030831)
Migrating to CreateCategoryImages (20091018031232)
Migrating to CreateProducts (20091023045044)
Migrating to AddPositionToComments (20091024154047)
Migrating to AddPositionToCategoryImage (20091029095103)
Migrating to AddPositionToImageProduct (20091029153706)
Migrating to AddPositionToSupplierProduct (20091029181742)
Migrating to AddCategoryPositionToCategoryProducts (20091030063453)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW TABLES[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `bugs`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW KEYS FROM `bugs`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mdescribe `categories`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `categories`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `category_images`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `category_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mdescribe `category_products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `category_products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `comments`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `comments`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `images`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `images`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `product_images`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `product_images`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mdescribe `roles`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `roles`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSHOW FIELDS FROM `supplier_products`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mdescribe `supplier_products`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `supplier_products`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSHOW FIELDS FROM `suppliers`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mdescribe `suppliers`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSHOW KEYS FROM `suppliers`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mdescribe `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSHOW KEYS FROM `users`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-11-17 21:09:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-11-17 21:09:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1005", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1005]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-11-17 21:09:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-11-17 21:09:25) [GET]
  Parameters: {"action"=>"edit", "id"=>"1011", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1011/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-17 21:09:25) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-17 21:09:25) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#index (for 0.0.0.0 at 2009-11-17 21:09:25) [GET]
  Parameters: {"product_id"=>"1028", "action"=>"index", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1028/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#create (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"product_id"=>"1033", "supplier"=>{"id"=>1037}, "action"=>"create", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1033/suppliers?supplier%5Bid%5D=1037]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1043/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb1d8dae @name="Supplier_1052">, #<Supplier:0x..fdb1d8dae @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb1d8dae @name="Supplier_1052">, #<Supplier:0x..fdb1d8dae @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#index (for 0.0.0.0 at 2009-11-17 21:09:25) [GET]
  Parameters: {"action"=>"index", "supplier_id"=>"1054", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1054/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#create (for 0.0.0.0 at 2009-11-17 21:09:25) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1057}, "supplier_id"=>"1058", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1058/products?product%5Bid%5D=1057]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1066/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb2bfd30 @name="Product_1069">, #<Product:0x..fdb2bfd30 @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb2bfd30 @name="Product_1069">, #<Product:0x..fdb2bfd30 @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments", "bug_id"=>"1074"}
Rendering template within layouts/application
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1074/comments]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"show", "id"=>"1075", "controller"=>"comments", "bug_id"=>"1076"}
Rendering template within layouts/application
Rendering comments/show
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1076/comments/1075]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"comments", "bug_id"=>"1078"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1078/comments/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"edit", "id"=>"1079", "controller"=>"comments", "bug_id"=>"1080"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1080/comments/1079/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Redirected to http://test.host/bugs/1088/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-17 21:09:26) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-17 21:09:26) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Redirected to http://test.host/bugs/1090/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#index (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1092", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1092/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"create", "category_id"=>"1096", "controller"=>"category_images", "image"=>{"id"=>1098}}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1096/images?image%5Bid%5D=1098]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Redirected to http://test.host/categories/1104/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1cf93e @name="Image_1110">, #<Image:0x..fdb1cf93e @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1cf93e @name="Image_1110">, #<Image:0x..fdb1cf93e @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#index (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"product_id"=>"1111", "action"=>"index", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1111/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"product_id"=>"1116", "action"=>"create", "controller"=>"product_images", "image"=>{"id"=>1119}}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1116/images?image%5Bid%5D=1119]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Redirected to http://test.host/products/1126/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1688e2 @name="Image_1134">, #<Image:0x..fdb1688e2 @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1688e2 @name="Image_1134">, #<Image:0x..fdb1688e2 @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#index (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#show (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"show", "id"=>"1137", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1137]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#new (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#edit (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"edit", "id"=>"1139", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1139/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1140", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1140]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1141", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1141]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-17 21:09:26) [PUT]
  Parameters: {"action"=>"update", "id"=>"1145", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs/1145
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1145?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-17 21:09:26) [PUT]
  Parameters: {"action"=>"update", "id"=>"1146", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1146?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#index (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"image_id"=>"1150", "action"=>"index", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1150/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"image_id"=>"1154", "category"=>{"id"=>1152}, "action"=>"create", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1154/categories?category%5Bid%5D=1152]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Redirected to http://test.host/images/1162/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb2255f0 @name="Category_1164">, #<Category:0x..fdb2255f0 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb2255f0 @name="Category_1164">, #<Category:0x..fdb2255f0 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#index (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#show (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"show", "id"=>"1169", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1169]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#new (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#edit (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"edit", "id"=>"1173", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1173/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-17 21:09:26) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-17 21:09:26) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#index (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#show (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"show", "id"=>"1189", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1189]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#new (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-11-17 21:09:26) [GET]
  Parameters: {"action"=>"edit", "id"=>"1197", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1197/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:26) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]


Processing ProductsController#create (for 0.0.0.0 at 2009-11-17 21:09:26) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#update (for 0.0.0.0 at 2009-11-17 21:09:26) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]


Processing ProductsController#update (for 0.0.0.0 at 2009-11-17 21:09:26) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#index (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/roles]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#show (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"action"=>"show", "id"=>"1224", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1224]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#new (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#edit (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"action"=>"edit", "id"=>"1230", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1230/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]


Processing RolesController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#create (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]


Processing RolesController#create (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#update (for 0.0.0.0 at 2009-11-17 21:09:27) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]


Processing RolesController#update (for 0.0.0.0 at 2009-11-17 21:09:27) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#index (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"product_id"=>"1248", "action"=>"index", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1248/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#create (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"category"=>{"id"=>1254}, "product_id"=>"1253", "action"=>"create", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1253/categories?category%5Bid%5D=1254]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Redirected to http://test.host/products/1263/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb188c8c @name="Category_1269">, #<Category:0x..fdb188c8c @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb188c8c @name="Category_1269">, #<Category:0x..fdb188c8c @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#index (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1274", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1274/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#create (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1277}, "category_id"=>"1278", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1278/products?product%5Bid%5D=1277]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Redirected to http://test.host/categories/1286/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb2b2bf8 @name="Product_1289">, #<Product:0x..fdb2b2bf8 @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb2b2bf8 @name="Product_1289">, #<Product:0x..fdb2b2bf8 @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#index (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#show (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"action"=>"show", "id"=>"1296", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1296]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#new (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#edit (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"action"=>"edit", "id"=>"1302", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1302/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#create (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]


Processing ImagesController#create (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#update (for 0.0.0.0 at 2009-11-17 21:09:27) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]


Processing ImagesController#update (for 0.0.0.0 at 2009-11-17 21:09:27) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#index (for 0.0.0.0 at 2009-11-17 21:09:27) [GET]
  Parameters: {"image_id"=>"1323", "action"=>"index", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1323/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#create (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"image_id"=>"1327", "action"=>"create", "product"=>{"id"=>1324}, "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1327/products?product%5Bid%5D=1324]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Redirected to http://test.host/images/1335/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-17 21:09:27) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb1c4d4a @name="Product_1336">, #<Product:0x..fdb1c4d4a @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:09:27) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb1c4d4a @name="Product_1336">, #<Product:0x..fdb1c4d4a @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'A valid category name' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('A valid category name', 1, '2009-11-17 21:09:27', '2009-11-17 21:09:27', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (7.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'A valid bug title') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:09:27', 'A valid bug title', '2009-11-17 21:09:27', 1, 'A valid bug description', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'value for name') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('value for name', 1, '2009-11-17 21:09:27', 0, '2009-11-17 21:09:27', 0, 6, 'empty', 'empty', 'value for description', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:09:39', 'Acme products dont appear', '2009-11-17 21:09:39', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (5.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:09:39', 'Acme products dont appear', '2009-11-17 21:09:39', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:09:39', 'Acme products dont appear', '2009-11-17 21:09:39', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-17 21:09:39', 'Beers costs more', '2009-11-17 21:09:39', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 3) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 4) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:09:39', 'Acme products dont appear', '2009-11-17 21:09:39', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-17 21:09:39', 'Beers costs more', '2009-11-17 21:09:39', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (5,6)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:09:39', `position` = 2 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:09:39', `position` = 1 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (5,6)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:09:39', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:09:39', `position` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mCategory Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 1' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 1', 1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 2' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 2', 2, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.2ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 3) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 3) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 3) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 4) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 4) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 4) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (5,6)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:39', `position` = 2 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:39', `position` = 1 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` IN (5,6,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:39', `position` = 3 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:39', `position` = 1 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id = 7) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', 7, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 7) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:09:39', 'image/jpeg', NULL, '2009-11-17 21:09:39', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 1 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:39', 'image/jpeg', 'thumb', '2009-11-17 21:09:39', 1, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:09:39', 'image/jpeg', NULL, '2009-11-17 21:09:39', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 3 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:39', 'image/jpeg', 'thumb', '2009-11-17 21:09:39', 3, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 9))) ORDER BY position[0m
  [4;36;1mCategoryImage Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_images`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 9) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', 9, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 9) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-17 21:09:39', '2009-11-17 21:09:39', 9, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 9) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) [0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 9))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 9)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 9) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 9))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 9)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:39', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:39', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 9) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 9))) ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`category_id` = 9 AND `category_images`.`image_id` IN (3,1)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 9 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 1[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 9 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 2[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 9) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 9))) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 9) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', 9, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 9) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-17 21:09:39', '2009-11-17 21:09:39', 9, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 9 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 9 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 9) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 9)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:09:39', 0, '2009-11-17 21:09:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:09:39', 0, '2009-11-17 21:09:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:09:39', '2009-11-17 21:09:39', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 1) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 1 AND `category_products`.category_id = 11) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-17 21:09:39', 1, '2009-11-17 21:09:39', 11, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 11) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-17 21:09:39', 2, '2009-11-17 21:09:39', 11, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 11)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 11)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (1,2)) AND ((`category_products`.category_id = 11)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 11)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (1,2)) AND ((`category_products`.category_id = 11)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:39', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:39', `position` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 11)) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` IN (2,1) AND `category_products`.`category_id` = 11) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 11 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 11 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 11)) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 11)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 1) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 1 AND `category_products`.category_id = 11) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-17 21:09:39', 1, '2009-11-17 21:09:39', 11, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 11) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-17 21:09:39', 2, '2009-11-17 21:09:39', 11, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 11 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 11 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 11) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 11)) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', 1, NULL, 'Acme products dont appear')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-17 21:09:39', '2009-11-17 21:09:39', 1, NULL, 'Beers costs more')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 1) [0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 2) [0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-17 21:09:39', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-17 21:09:39', '2009-11-17 21:09:39', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-17 21:09:40', '2009-11-17 21:09:40', 1, NULL, 'Beers costs more')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-17 21:09:40', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-17 21:09:40', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-17 21:09:40', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-17 21:09:40', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-17 21:09:40', '2009-11-17 21:09:40', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:09:43', 'image/jpeg', NULL, '2009-11-17 21:09:43', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 5 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:43', 'image/jpeg', 'thumb', '2009-11-17 21:09:43', 5, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:09:43', 'image/jpeg', NULL, '2009-11-17 21:09:43', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 7 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:43', 'image/jpeg', 'thumb', '2009-11-17 21:09:43', 7, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` WHERE (`images`.`parent_id` IS NULL) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (5,7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 5) ORDER BY position[0m
  [4;35;1mImageCategory Columns (0.2ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 5) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position, position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 6) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 6) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 6) ORDER BY position, position[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 5 AND position > 1) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 6[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 7) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 7) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position, position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 8) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 8) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 8) ORDER BY position, position[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 7 AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 8[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 8[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 7[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` ORDER BY position[0m
  [4;35;1mSQL (3.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:09:43', 'image/jpeg', NULL, '2009-11-17 21:09:43', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 9 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:43', 'image/jpeg', 'thumb', '2009-11-17 21:09:43', 9, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-3' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:09:43', 'image/jpeg', NULL, '2009-11-17 21:09:43', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 11 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-3' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:43', 'image/jpeg', 'thumb', '2009-11-17 21:09:43', 11, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:43', `position` = 2 WHERE `id` = 9[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:43', `position` = 1 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:43', `position` = 2 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:43', `position` = 1 WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-4' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:09:43', 'image/jpeg', NULL, '2009-11-17 21:09:43', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 13 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-4' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 13) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:43', 'image/jpeg', 'thumb', '2009-11-17 21:09:43', 13, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:09:43', 'image/jpeg', NULL, '2009-11-17 21:09:43', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 15 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 15) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:43', 'image/jpeg', 'thumb', '2009-11-17 21:09:43', 15, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:09:43', '2009-11-17 21:09:43', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:09:43', '2009-11-17 21:09:43', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 13 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:09:43', '2009-11-17 21:09:43', 13, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:09:43', '2009-11-17 21:09:43', 14, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (13,14)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (13,14)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:43', `position` = 2 WHERE `id` = 13[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:43', `position` = 1 WHERE `id` = 14[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.`category_id` IN (14,13)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:09:43', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:09:43', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 13 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:09:43', '2009-11-17 21:09:43', 13, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:09:43', '2009-11-17 21:09:43', 14, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:09:43', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:09:43', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:09:43', 'image/jpeg', NULL, '2009-11-17 21:09:43', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 17 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 17) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:43', 'image/jpeg', 'thumb', '2009-11-17 21:09:43', 17, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:09:43', 'image/jpeg', NULL, '2009-11-17 21:09:43', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 19 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 19) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:43', 'image/jpeg', 'thumb', '2009-11-17 21:09:43', 19, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 3 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 3) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:09:43', 3, '2009-11-17 21:09:43', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:09:43', 4, '2009-11-17 21:09:43', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (3,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (3,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:43', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:43', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` IN (4,3) AND `product_images`.`image_id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 3 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 3 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 3) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:09:43', 3, '2009-11-17 21:09:43', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:09:43', 4, '2009-11-17 21:09:43', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 3 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme', 1, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers', 2, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` IN (7,8)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 7[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 7) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 7) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.2ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 7) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:43', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 8) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 8) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 8) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme products dont appear', 1, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers costs more', 2, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (9,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:43', `position` = 2 WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:43', `position` = 1 WHERE `id` = 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (9,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:43', `position` = 2 WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:43', `position` = 1 WHERE `id` = 9[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:09:43', 0, '2009-11-17 21:09:43', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:09:43', '2009-11-17 21:09:43', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:09:43', '2009-11-17 21:09:43', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mProductCategory Columns (10.1ms)[0m   [0mSHOW FIELDS FROM `category_products`[0m
  [4;36;1mProductCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 11)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 15) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 11 AND `category_products`.category_id = 15) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 15 AND `category_products`.product_id = 11) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 11) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 11) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:09:44', 11, '2009-11-17 21:09:44', 15, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 11) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 11 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 11) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 11) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 11) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:09:44', 11, '2009-11-17 21:09:44', 16, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 11) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 11)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 11)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,15)) AND ((`category_products`.product_id = 11)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 11) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 11)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,15)) AND ((`category_products`.product_id = 11)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:44', `position` = 2 WHERE `id` = 15[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:09:44', `position` = 1 WHERE `id` = 16[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 11)) ORDER BY position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` = 11 AND `category_products`.`category_id` IN (16,15)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 11 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:09:44', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 11 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:09:44', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 11) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 11)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 11)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 15) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 11 AND `category_products`.category_id = 15) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 15 AND `category_products`.product_id = 11) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 11) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 11) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:09:44', 11, '2009-11-17 21:09:44', 15, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 11) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 11 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 11) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 11) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 11) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:09:44', 11, '2009-11-17 21:09:44', 16, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 11 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:09:44', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 11 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:09:44', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 11) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 11)) [0m
  [4;36;1mSQL (15.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:09:44', 'image/jpeg', NULL, '2009-11-17 21:09:44', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 21 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 21) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:44', 'image/jpeg', 'thumb', '2009-11-17 21:09:44', 21, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:09:44', 'image/jpeg', NULL, '2009-11-17 21:09:44', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 23 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32292-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 23) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:09:44', 'image/jpeg', 'thumb', '2009-11-17 21:09:44', 23, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:09:44', 0, '2009-11-17 21:09:44', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:09:44', 0, '2009-11-17 21:09:44', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 13 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 13) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-17 21:09:44', 13, '2009-11-17 21:09:44', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 13 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 13) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-17 21:09:44', 13, '2009-11-17 21:09:44', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 13)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 13)) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 13)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 13) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 13)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:44', `position` = 2 WHERE `id` = 21[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:09:44', `position` = 1 WHERE `id` = 23[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 13) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 13)) ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` = 13 AND `product_images`.`image_id` IN (23,21)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 13 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:09:44', `product_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 13 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:09:44', `product_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 13)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 13 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 13) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-17 21:09:44', 13, '2009-11-17 21:09:44', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 13 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 13) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-17 21:09:44', 13, '2009-11-17 21:09:44', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (7,8)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 13 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:09:44', `product_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 13 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:09:44', `product_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 13) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 13)) [0m
  [4;36;1mSQL (5.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSupplier Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `suppliers`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:09:44', 0, '2009-11-17 21:09:44', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:09:44', 0, '2009-11-17 21:09:44', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProductSupplier Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 15)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 15 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 15) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 15) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 15) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:09:44', 15, '2009-11-17 21:09:44', 1, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 15 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 15) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 15) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 15) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:09:44', 15, '2009-11-17 21:09:44', 2, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 15) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 15)) [0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 15)) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 15)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 15) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 15)) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 15)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:09:44', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:09:44', `position` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 15) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 15)) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` IN (2,1) AND `supplier_products`.`product_id` = 15) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 15 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:09:44', `supplier_position` = NULL WHERE `id` = 1[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 15 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:09:44', `supplier_position` = NULL WHERE `id` = 2[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 15) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 15)) [0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 15)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 15 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 15) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 15) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 15) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:09:44', 15, '2009-11-17 21:09:44', 1, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 15 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 15) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 15) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 15) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:09:44', 15, '2009-11-17 21:09:44', 2, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (3,4)) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 15 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:09:44', `supplier_position` = NULL WHERE `id` = 3[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 15 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:09:44', `supplier_position` = NULL WHERE `id` = 4[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 15) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 15)) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 'a random blurb', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 'yet more blurm', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-17 21:09:44', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mRole Destroy (0.1ms)[0m   [0mDELETE FROM `roles` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-17 21:09:44', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mRole Destroy (0.1ms)[0m   [0;1mDELETE FROM `roles` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 'a random blurb', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 'yet more blurm', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-17 21:09:44', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-17 21:09:44', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-17 21:09:44', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-17 21:09:44', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:09:44', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 3) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:09:44', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 4) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:09:44', `position` = 2 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:09:44', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:09:44', `position` = 2 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:09:44', `position` = 1 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:09:44', 0, '2009-11-17 21:09:44', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:09:44', 0, '2009-11-17 21:09:44', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-17 21:09:44', '2009-11-17 21:09:44', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 17 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-17 21:09:44', 17, '2009-11-17 21:09:44', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-17 21:09:44', 18, '2009-11-17 21:09:44', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (17,18)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (17,18)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:44', `position` = 2 WHERE `id` = 17[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:09:44', `position` = 1 WHERE `id` = 18[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 7 AND `supplier_products`.`product_id` IN (18,17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:09:44', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:09:44', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 17 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-17 21:09:44', 17, '2009-11-17 21:09:44', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-17 21:09:44', 18, '2009-11-17 21:09:44', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (7,8)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:09:44', `position` = NULL WHERE `id` = 7[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:09:44', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1005", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1005]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"edit", "id"=>"1011", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1011/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-17 21:13:48) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-17 21:13:48) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#index (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"product_id"=>"1028", "action"=>"index", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1028/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"product_id"=>"1033", "supplier"=>{"id"=>1037}, "action"=>"create", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1033/suppliers?supplier%5Bid%5D=1037]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1043/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb1badae @name="Supplier_1052">, #<Supplier:0x..fdb1badae @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb1badae @name="Supplier_1052">, #<Supplier:0x..fdb1badae @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#index (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"index", "supplier_id"=>"1054", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1054/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1057}, "supplier_id"=>"1058", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1058/products?product%5Bid%5D=1057]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1066/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb2a1d30 @name="Product_1069">, #<Product:0x..fdb2a1d30 @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb2a1d30 @name="Product_1069">, #<Product:0x..fdb2a1d30 @name="Product_1069">], "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments", "bug_id"=>"1074"}
Rendering template within layouts/application
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1074/comments]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1075", "controller"=>"comments", "bug_id"=>"1076"}
Rendering template within layouts/application
Rendering comments/show
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1076/comments/1075]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"comments", "bug_id"=>"1078"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1078/comments/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"edit", "id"=>"1079", "controller"=>"comments", "bug_id"=>"1080"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1080/comments/1079/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1081", "controller"=>"comments", "bug_id"=>"1082"}
Redirected to http://test.host/bugs/1082/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1082/comments/1081]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1083, 1083], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1084"}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1084", "all_comments"=>[1083, 1083]}
Redirected to http://test.host/bugs/1084/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1084/comments/remove?selected_ids%5B%5D=1083&selected_ids%5B%5D=1083]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"selected_ids"=>[1085, 1085], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086"}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1086", "all_comments"=>[1085, 1085]}
Redirected to http://test.host/bugs/1086/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1086/comments/reorder?selected_ids%5B%5D=1085&selected_ids%5B%5D=1085]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Rendering template within layouts/application
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1088"}
Redirected to http://test.host/bugs/1088/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1088/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-17 21:13:48) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Rendering template within layouts/application
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-17 21:13:48) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1089", "controller"=>"comments", "bug_id"=>"1090"}
Redirected to http://test.host/bugs/1090/comments
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1090/comments/1089?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#index (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1092", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1092/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"create", "category_id"=>"1096", "controller"=>"category_images", "image"=>{"id"=>1098}}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1096/images?image%5Bid%5D=1098]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1102", "category_id"=>"1100", "controller"=>"category_images"}
Redirected to http://test.host/categories/1100/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1100/images/1102]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Redirected to http://test.host/categories/1104/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1106, 1106], "action"=>"remove", "category_id"=>"1104", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1104/images/remove?selected_ids%5B%5D=1106&selected_ids%5B%5D=1106]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1b193e @name="Image_1110">, #<Image:0x..fdb1b193e @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1b193e @name="Image_1110">, #<Image:0x..fdb1b193e @name="Image_1110">], "action"=>"reorder", "category_id"=>"1108", "controller"=>"category_images"}
Redirected to http://test.host/categories/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1108/images/reorder?all_images%5B%5D=1110&all_images%5B%5D=1110]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#index (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"product_id"=>"1111", "action"=>"index", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1111/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"product_id"=>"1116", "action"=>"create", "controller"=>"product_images", "image"=>{"id"=>1119}}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1116/images?image%5Bid%5D=1119]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"product_id"=>"1121", "action"=>"destroy", "id"=>"1124", "controller"=>"product_images"}
Redirected to http://test.host/products/1121/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1121/images/1124]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Redirected to http://test.host/products/1126/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"selected_ids"=>[1129, 1129], "product_id"=>"1126", "action"=>"remove", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1126/images/remove?selected_ids%5B%5D=1129&selected_ids%5B%5D=1129]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb14a8e2 @name="Image_1134">, #<Image:0x..fdb14a8e2 @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb14a8e2 @name="Image_1134">, #<Image:0x..fdb14a8e2 @name="Image_1134">], "product_id"=>"1131", "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1131/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1131/images/reorder?all_images%5B%5D=1134&all_images%5B%5D=1134]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#index (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/index
Completed in 5ms (View: 0, DB: 1) | 200 OK [http://test.host/bugs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#show (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1137", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1137]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#new (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"new", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#edit (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"edit", "id"=>"1139", "controller"=>"bugs"}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1139/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1140", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1140]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1141", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1141]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"selected_ids"=>[1142, 1142], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1142, 1142]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1142&selected_ids%5B%5D=1142]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-17 21:13:48) [PUT]
  Parameters: {"action"=>"update", "id"=>"1145", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs/1145
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1145?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-17 21:13:48) [PUT]
  Parameters: {"action"=>"update", "id"=>"1146", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/application
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1146?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#index (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"image_id"=>"1150", "action"=>"index", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1150/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#create (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"image_id"=>"1154", "category"=>{"id"=>1152}, "action"=>"create", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1154/categories?category%5Bid%5D=1152]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"image_id"=>"1158", "action"=>"destroy", "id"=>"1156", "controller"=>"image_categories"}
Redirected to http://test.host/images/1158/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1158/categories/1156]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Redirected to http://test.host/images/1162/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:13:48) [DELETE]
  Parameters: {"image_id"=>"1162", "selected_ids"=>[1160, 1160], "action"=>"remove", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1162/categories/remove?selected_ids%5B%5D=1160&selected_ids%5B%5D=1160]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb2075f0 @name="Category_1164">, #<Category:0x..fdb2075f0 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:48) [POST]
  Parameters: {"image_id"=>"1166", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb2075f0 @name="Category_1164">, #<Category:0x..fdb2075f0 @name="Category_1164">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1166/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1166/categories/reorder?all_categories%5B%5D=1164&all_categories%5B%5D=1164]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#index (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#show (for 0.0.0.0 at 2009-11-17 21:13:48) [GET]
  Parameters: {"action"=>"show", "id"=>"1169", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1169]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#new (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#edit (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"edit", "id"=>"1173", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1173/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1175", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1175]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1177, 1177], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1177, 1177]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1177&selected_ids%5B%5D=1177]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"all_suppliers"=>[1179, 1179], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1179&selected_ids%5B%5D=1179]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-17 21:13:49) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-17 21:13:49) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1183", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers/1183?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#index (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#show (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"show", "id"=>"1189", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1189]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#new (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"edit", "id"=>"1197", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1197/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1201", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1201]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"product_ids"=>[1205, 1205], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1205&selected_ids%5B%5D=1205]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1209, 1209], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[1209, 1209], "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1209&selected_ids%5B%5D=1209]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]


Processing ProductsController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#update (for 0.0.0.0 at 2009-11-17 21:13:49) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]


Processing ProductsController#update (for 0.0.0.0 at 2009-11-17 21:13:49) [PUT]
  Parameters: {"action"=>"update", "id"=>"1217", "product"=>{"name"=>"A new valid category name", "id"=>1217, "description"=>"A new valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products/1217?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1217&product%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#index (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#show (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"show", "id"=>"1224", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1224]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#new (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#edit (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"edit", "id"=>"1230", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1230/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1233", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1233]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]


Processing RolesController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1236, 1236], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1236&role_ids%5B%5D=1236]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"all_roles"=>[1239, 1239], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1239&selected_ids%5B%5D=1239]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]


Processing RolesController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#update (for 0.0.0.0 at 2009-11-17 21:13:49) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]


Processing RolesController#update (for 0.0.0.0 at 2009-11-17 21:13:49) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1245", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles/1245?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#index (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"product_id"=>"1248", "action"=>"index", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1248/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"category"=>{"id"=>1254}, "product_id"=>"1253", "action"=>"create", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1253/categories?category%5Bid%5D=1254]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"product_id"=>"1258", "action"=>"destroy", "id"=>"1259", "controller"=>"product_categories"}
Redirected to http://test.host/products/1258/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1258/categories/1259]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Redirected to http://test.host/products/1263/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"selected_ids"=>[1264, 1264], "product_id"=>"1263", "action"=>"remove", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1263/categories/remove?selected_ids%5B%5D=1264&selected_ids%5B%5D=1264]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb16ac8c @name="Category_1269">, #<Category:0x..fdb16ac8c @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"product_id"=>"1268", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb16ac8c @name="Category_1269">, #<Category:0x..fdb16ac8c @name="Category_1269">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1268/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1268/categories/reorder?all_categories%5B%5D=1269&all_categories%5B%5D=1269]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#index (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1274", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1274/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1277}, "category_id"=>"1278", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1278/products?product%5Bid%5D=1277]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1281", "category_id"=>"1282", "controller"=>"category_products"}
Redirected to http://test.host/categories/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1282/products/1281]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Redirected to http://test.host/categories/1286/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"selected_ids"=>[1285, 1285], "action"=>"remove", "category_id"=>"1286", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1286/products/remove?selected_ids%5B%5D=1285&selected_ids%5B%5D=1285]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb294bf8 @name="Product_1289">, #<Product:0x..fdb294bf8 @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"reorder", "all_products"=>[#<Product:0x..fdb294bf8 @name="Product_1289">, #<Product:0x..fdb294bf8 @name="Product_1289">], "category_id"=>"1290", "controller"=>"category_products"}
Redirected to http://test.host/categories/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1290/products/reorder?all_products%5B%5D=1289&all_products%5B%5D=1289]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#index (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#show (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"show", "id"=>"1296", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1296]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#new (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"new", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#edit (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"action"=>"edit", "id"=>"1302", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1302/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1305", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1305]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"all_images"=>[1308, 1308], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1308&selected_ids%5B%5D=1308]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"selected_ids"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"all_images"=>[1311, 1311], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1311&selected_ids%5B%5D=1311]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]


Processing ImagesController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#update (for 0.0.0.0 at 2009-11-17 21:13:49) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]


Processing ImagesController#update (for 0.0.0.0 at 2009-11-17 21:13:49) [PUT]
  Parameters: {"action"=>"update", "id"=>"1317", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images/1317?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#index (for 0.0.0.0 at 2009-11-17 21:13:49) [GET]
  Parameters: {"image_id"=>"1323", "action"=>"index", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1323/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#create (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"image_id"=>"1327", "action"=>"create", "product"=>{"id"=>1324}, "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1327/products?product%5Bid%5D=1324]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"image_id"=>"1331", "action"=>"destroy", "id"=>"1328", "controller"=>"image_products"}
Redirected to http://test.host/images/1331/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1331/products/1328]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Redirected to http://test.host/images/1335/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-17 21:13:49) [DELETE]
  Parameters: {"image_id"=>"1335", "selected_ids"=>[1332, 1332], "action"=>"remove", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1335/products/remove?selected_ids%5B%5D=1332&selected_ids%5B%5D=1332]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb1a6d4a @name="Product_1336">, #<Product:0x..fdb1a6d4a @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:13:49) [POST]
  Parameters: {"image_id"=>"1339", "action"=>"reorder", "all_products"=>[#<Product:0x..fdb1a6d4a @name="Product_1336">, #<Product:0x..fdb1a6d4a @name="Product_1336">], "controller"=>"image_products"}
Redirected to http://test.host/images/1339/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1339/products/reorder?all_products%5B%5D=1336&all_products%5B%5D=1336]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'A valid category name' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('A valid category name', 1, '2009-11-17 21:13:49', '2009-11-17 21:13:49', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (6.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'A valid bug title') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:13:50', 'A valid bug title', '2009-11-17 21:13:50', 1, 'A valid bug description', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'value for name') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('value for name', 1, '2009-11-17 21:13:50', 0, '2009-11-17 21:13:50', 0, 6, 'empty', 'empty', 'value for description', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.2ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:13:51', 'Acme products dont appear', '2009-11-17 21:13:51', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (4.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:13:51', 'Acme products dont appear', '2009-11-17 21:13:51', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:13:51', 'Acme products dont appear', '2009-11-17 21:13:51', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-17 21:13:51', 'Beers costs more', '2009-11-17 21:13:51', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (4,5)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:13:51', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 4) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:13:51', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 5) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:13:51', 'Acme products dont appear', '2009-11-17 21:13:51', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-17 21:13:51', 'Beers costs more', '2009-11-17 21:13:51', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:13:52', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:13:52', `position` = 2 WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mCategory Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (1.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 1' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 1', 1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 2' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 2', 2, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (4,5)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 4) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 4) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 4) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 5) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 5) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 5) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:52', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:52', `position` = 3 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id = 8) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 8, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 8) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:13:52', 'image/jpeg', NULL, '2009-11-17 21:13:52', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 1 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:52', 'image/jpeg', 'thumb', '2009-11-17 21:13:52', 1, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:13:52', 'image/jpeg', NULL, '2009-11-17 21:13:52', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 3 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:52', 'image/jpeg', 'thumb', '2009-11-17 21:13:52', 3, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_images`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.3ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`category_id` = 10 AND `category_images`.`image_id` IN (3,1)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 1[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 2[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mSQL (4.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:13:52', 0, '2009-11-17 21:13:52', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:13:52', 0, '2009-11-17 21:13:52', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:13:52', '2009-11-17 21:13:52', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-17 21:13:52', 2, '2009-11-17 21:13:52', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-17 21:13:52', 3, '2009-11-17 21:13:52', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:52', `position` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` IN (3,2) AND `category_products`.`category_id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-17 21:13:52', 2, '2009-11-17 21:13:52', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-17 21:13:52', 3, '2009-11-17 21:13:52', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 1, NULL, 'Acme products dont appear')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 1, NULL, 'Beers costs more')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 1) [0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 2) [0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (1.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 1, NULL, 'Beers costs more')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-17 21:13:52', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-17 21:13:52', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-17 21:13:52', '2009-11-17 21:13:52', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:13:52', 'image/jpeg', NULL, '2009-11-17 21:13:52', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 5 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:52', 'image/jpeg', 'thumb', '2009-11-17 21:13:52', 5, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-3' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:13:52', 'image/jpeg', NULL, '2009-11-17 21:13:52', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 7 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-3' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:52', 'image/jpeg', 'thumb', '2009-11-17 21:13:52', 7, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` WHERE (`images`.`parent_id` IS NULL) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (5,7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mImageProduct Load (0.2ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 5) ORDER BY position[0m
  [4;35;1mImageCategory Columns (11.2ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mImageCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 5) ORDER BY category_position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position, position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 6) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 6) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 6) ORDER BY position, position[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 5 AND position > 1) [0m
  [4;36;1mImage Update (0.2ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 6[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 7) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 7) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position, position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 8) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 8) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 8) ORDER BY position, position[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 7 AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 8[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 8[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = NULL WHERE `id` = 7[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` ORDER BY position[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:13:52', 'image/jpeg', NULL, '2009-11-17 21:13:52', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 9 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.2ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:52', 'image/jpeg', 'thumb', '2009-11-17 21:13:52', 9, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:13:52', 'image/jpeg', NULL, '2009-11-17 21:13:52', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 11 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:52', 'image/jpeg', 'thumb', '2009-11-17 21:13:52', 11, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = 2 WHERE `id` = 9[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = 2 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:52', `position` = 1 WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:13:52', 'image/jpeg', NULL, '2009-11-17 21:13:52', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 13 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 13) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:52', 'image/jpeg', 'thumb', '2009-11-17 21:13:52', 13, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-4' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:13:53', 'image/jpeg', NULL, '2009-11-17 21:13:53', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 15 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-4' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 15) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:53', 'image/jpeg', 'thumb', '2009-11-17 21:13:53', 15, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:13:53', '2009-11-17 21:13:53', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:13:53', '2009-11-17 21:13:53', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 14[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 15[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.`category_id` IN (15,14)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.2ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:13:53', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:13:53', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.2ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:13:53', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:13:53', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-5' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:13:53', 'image/jpeg', NULL, '2009-11-17 21:13:53', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 17 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-5' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 17) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:53', 'image/jpeg', 'thumb', '2009-11-17 21:13:53', 17, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-6' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:13:53', 'image/jpeg', NULL, '2009-11-17 21:13:53', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 19 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-6' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 19) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:53', 'image/jpeg', 'thumb', '2009-11-17 21:13:53', 19, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:13:53', 4, '2009-11-17 21:13:53', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:13:53', 5, '2009-11-17 21:13:53', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` IN (5,4) AND `product_images`.`image_id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:13:53', 4, '2009-11-17 21:13:53', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:13:53', 5, '2009-11-17 21:13:53', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;35;1mSQL (4.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme', 1, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers', 2, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` IN (8,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 8) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 8) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.2ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 8) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 9[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 9) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 9) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 9) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme products dont appear', 1, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers costs more', 2, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:13:53', '2009-11-17 21:13:53', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:13:53', '2009-11-17 21:13:53', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mProductCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_products`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:13:53', 12, '2009-11-17 21:13:53', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:13:53', 12, '2009-11-17 21:13:53', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 16[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 17[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.`category_id` IN (17,16)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:13:53', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:13:53', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:13:53', 12, '2009-11-17 21:13:53', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:13:53', 12, '2009-11-17 21:13:53', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:13:53', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:13:53', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:13:53', 'image/jpeg', NULL, '2009-11-17 21:13:53', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 21 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 21) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:53', 'image/jpeg', 'thumb', '2009-11-17 21:13:53', 21, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:13:53', 'image/jpeg', NULL, '2009-11-17 21:13:53', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 23 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32373-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 23) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:13:53', 'image/jpeg', 'thumb', '2009-11-17 21:13:53', 23, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-17 21:13:53', 14, '2009-11-17 21:13:53', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-17 21:13:53', 14, '2009-11-17 21:13:53', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 21[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 23[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.`image_id` IN (23,21)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:13:53', `product_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.2ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:13:53', `product_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-17 21:13:53', 14, '2009-11-17 21:13:53', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-17 21:13:53', 14, '2009-11-17 21:13:53', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (7,8)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:13:53', `product_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:13:53', `product_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSupplier Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `suppliers`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:13:53', 0, '2009-11-17 21:13:53', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProductSupplier Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:13:53', 16, '2009-11-17 21:13:53', 1, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:13:53', 16, '2009-11-17 21:13:53', 2, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` IN (2,1) AND `supplier_products`.`product_id` = 16) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:13:53', `supplier_position` = NULL WHERE `id` = 1[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:13:53', `supplier_position` = NULL WHERE `id` = 2[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:13:53', 16, '2009-11-17 21:13:53', 1, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:13:53', 16, '2009-11-17 21:13:53', 2, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (3,4)) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:13:53', `supplier_position` = NULL WHERE `id` = 3[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:13:53', `supplier_position` = NULL WHERE `id` = 4[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 'a random blurb', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 'yet more blurm', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mRole Destroy (0.1ms)[0m   [0mDELETE FROM `roles` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mRole Destroy (0.1ms)[0m   [0;1mDELETE FROM `roles` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 'a random blurb', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 'yet more blurm', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 3) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:13:53', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 4) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-17 21:13:53', '2009-11-17 21:13:53', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:13:53', `position` = 2 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:13:53', `position` = 1 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:13:54', 0, '2009-11-17 21:13:54', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:13:54', 0, '2009-11-17 21:13:54', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-17 21:13:54', '2009-11-17 21:13:54', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-17 21:13:54', '2009-11-17 21:13:54', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-17 21:13:54', 18, '2009-11-17 21:13:54', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-17 21:13:54', 19, '2009-11-17 21:13:54', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:54', `position` = 2 WHERE `id` = 18[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:13:54', `position` = 1 WHERE `id` = 19[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 7 AND `supplier_products`.`product_id` IN (19,18)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:13:54', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:13:54', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-17 21:13:54', 18, '2009-11-17 21:13:54', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-17 21:13:54', 19, '2009-11-17 21:13:54', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (7,8)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:13:54', `position` = NULL WHERE `id` = 7[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:13:54', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-17 21:22:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"comments", "bug_id"=>"1002"}
Rendering template within layouts/bugs
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1002/comments]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-17 21:22:58) [GET]
  Parameters: {"action"=>"show", "id"=>"1003", "controller"=>"comments", "bug_id"=>"1004"}
Rendering template within layouts/bugs
Rendering comments/show
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1004/comments/1003]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-17 21:22:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"comments", "bug_id"=>"1006"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1006/comments/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-17 21:22:58) [GET]
  Parameters: {"action"=>"edit", "id"=>"1007", "controller"=>"comments", "bug_id"=>"1008"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1008/comments/1007/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:22:58) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1009", "controller"=>"comments", "bug_id"=>"1010"}
Redirected to http://test.host/bugs/1010/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1010/comments/1009]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:22:58) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1009", "controller"=>"comments", "bug_id"=>"1010"}
Redirected to http://test.host/bugs/1010/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1010/comments/1009]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:22:58) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1009", "controller"=>"comments", "bug_id"=>"1010"}
Redirected to http://test.host/bugs/1010/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1010/comments/1009]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:22:58) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1009", "controller"=>"comments", "bug_id"=>"1010"}
Redirected to http://test.host/bugs/1010/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1010/comments/1009]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:22:58) [DELETE]
  Parameters: {"selected_ids"=>[1011, 1011], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1012"}
Redirected to http://test.host/bugs/1012/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1012/comments/remove?selected_ids%5B%5D=1011&selected_ids%5B%5D=1011]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:22:58) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1012", "all_comments"=>[1011, 1011]}
Redirected to http://test.host/bugs/1012/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1012/comments/remove?selected_ids%5B%5D=1011&selected_ids%5B%5D=1011]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:22:58) [DELETE]
  Parameters: {"selected_ids"=>[1011, 1011], "action"=>"remove", "controller"=>"comments", "bug_id"=>"1012"}
Redirected to http://test.host/bugs/1012/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1012/comments/remove?selected_ids%5B%5D=1011&selected_ids%5B%5D=1011]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:22:58) [DELETE]
  Parameters: {"action"=>"remove", "controller"=>"comments", "bug_id"=>"1012", "all_comments"=>[1011, 1011]}
Redirected to http://test.host/bugs/1012/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1012/comments/remove?selected_ids%5B%5D=1011&selected_ids%5B%5D=1011]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:22:58) [POST]
  Parameters: {"selected_ids"=>[1013, 1013], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1014"}
Redirected to http://test.host/bugs/1014/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1014/comments/reorder?selected_ids%5B%5D=1013&selected_ids%5B%5D=1013]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:22:58) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1014", "all_comments"=>[1013, 1013]}
Redirected to http://test.host/bugs/1014/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1014/comments/reorder?selected_ids%5B%5D=1013&selected_ids%5B%5D=1013]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:22:58) [POST]
  Parameters: {"selected_ids"=>[1013, 1013], "action"=>"reorder", "controller"=>"comments", "bug_id"=>"1014"}
Redirected to http://test.host/bugs/1014/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1014/comments/reorder?selected_ids%5B%5D=1013&selected_ids%5B%5D=1013]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:22:58) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"comments", "bug_id"=>"1014", "all_comments"=>[1013, 1013]}
Redirected to http://test.host/bugs/1014/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1014/comments/reorder?selected_ids%5B%5D=1013&selected_ids%5B%5D=1013]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-17 21:22:58) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1016"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1016/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-17 21:22:58) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "controller"=>"comments", "bug_id"=>"1016"}
Redirected to http://test.host/bugs/1016
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1016/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-17 21:22:58) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1017", "controller"=>"comments", "bug_id"=>"1018"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1018/comments/1017?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-17 21:22:58) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1017", "controller"=>"comments", "bug_id"=>"1018"}
Redirected to http://test.host/bugs/1018
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1018/comments/1017?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"action"=>"show", "id"=>"1005", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1005]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"action"=>"edit", "id"=>"1011", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1011/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-17 21:28:34) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-17 21:28:34) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#index (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"product_id"=>"1028", "action"=>"index", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1028/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#create (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"product_id"=>"1033", "supplier"=>{"id"=>1037}, "action"=>"create", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1033/suppliers?supplier%5Bid%5D=1037]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1043/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb1bac3c @name="Supplier_1052">, #<Supplier:0x..fdb1bac3c @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb1bac3c @name="Supplier_1052">, #<Supplier:0x..fdb1bac3c @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#index (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"action"=>"index", "supplier_id"=>"1054", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1054/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#create (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1057}, "supplier_id"=>"1058", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1058/products?product%5Bid%5D=1057]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1066/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb28207a @name="Product_1069">, #<Product:0x..fdb28207a @name="Product_1069">], "action"=>"reorder", "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb28207a @name="Product_1069">, #<Product:0x..fdb28207a @name="Product_1069">], "action"=>"reorder", "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'value for name') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('value for name', 1, '2009-11-17 21:28:34', 0, '2009-11-17 21:28:34', 0, 6, 'empty', 'empty', 'value for description', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (6.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#index (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1074", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 6ms (View: 0, DB: 7) | 200 OK [http://test.host/categories/1074/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#create (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"action"=>"create", "category_id"=>"1078", "controller"=>"category_images", "image"=>{"id"=>1080}}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1078/images?image%5Bid%5D=1080]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1084", "category_id"=>"1082", "controller"=>"category_images"}
Redirected to http://test.host/categories/1082/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1082/images/1084]


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1084", "category_id"=>"1082", "controller"=>"category_images"}
Redirected to http://test.host/categories/1082/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1082/images/1084]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"selected_ids"=>[1088, 1088], "action"=>"remove", "category_id"=>"1086", "controller"=>"category_images"}
Redirected to http://test.host/categories/1086/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1086/images/remove?selected_ids%5B%5D=1088&selected_ids%5B%5D=1088]


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"selected_ids"=>[1088, 1088], "action"=>"remove", "category_id"=>"1086", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1086/images/remove?selected_ids%5B%5D=1088&selected_ids%5B%5D=1088]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb217ee6 @name="Image_1092">, #<Image:0x..fdb217ee6 @name="Image_1092">], "action"=>"reorder", "category_id"=>"1090", "controller"=>"category_images"}
Redirected to http://test.host/categories/1090/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1090/images/reorder?all_images%5B%5D=1092&all_images%5B%5D=1092]


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb217ee6 @name="Image_1092">, #<Image:0x..fdb217ee6 @name="Image_1092">], "action"=>"reorder", "category_id"=>"1090", "controller"=>"category_images"}
Redirected to http://test.host/categories/1090/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1090/images/reorder?all_images%5B%5D=1092&all_images%5B%5D=1092]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#index (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"product_id"=>"1093", "action"=>"index", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1093/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#create (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"product_id"=>"1098", "action"=>"create", "controller"=>"product_images", "image"=>{"id"=>1101}}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1098/images?image%5Bid%5D=1101]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"product_id"=>"1103", "action"=>"destroy", "id"=>"1106", "controller"=>"product_images"}
Redirected to http://test.host/products/1103/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1103/images/1106]


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"product_id"=>"1103", "action"=>"destroy", "id"=>"1106", "controller"=>"product_images"}
Redirected to http://test.host/products/1103/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1103/images/1106]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"selected_ids"=>[1111, 1111], "product_id"=>"1108", "action"=>"remove", "controller"=>"product_images"}
Redirected to http://test.host/products/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1108/images/remove?selected_ids%5B%5D=1111&selected_ids%5B%5D=1111]


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"selected_ids"=>[1111, 1111], "product_id"=>"1108", "action"=>"remove", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1108/images/remove?selected_ids%5B%5D=1111&selected_ids%5B%5D=1111]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"product_id"=>"1113", "all_images"=>[#<Image:0x..fdb1ae220 @name="Image_1116">, #<Image:0x..fdb1ae220 @name="Image_1116">], "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1113/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1113/images/reorder?all_images%5B%5D=1116&all_images%5B%5D=1116]


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"product_id"=>"1113", "all_images"=>[#<Image:0x..fdb1ae220 @name="Image_1116">, #<Image:0x..fdb1ae220 @name="Image_1116">], "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1113/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1113/images/reorder?all_images%5B%5D=1116&all_images%5B%5D=1116]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#index (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"image_id"=>"1121", "action"=>"index", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1121/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#create (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"image_id"=>"1125", "category"=>{"id"=>1123}, "action"=>"create", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1125/categories?category%5Bid%5D=1123]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"image_id"=>"1129", "action"=>"destroy", "id"=>"1127", "controller"=>"image_categories"}
Redirected to http://test.host/images/1129/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1129/categories/1127]


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"image_id"=>"1129", "action"=>"destroy", "id"=>"1127", "controller"=>"image_categories"}
Redirected to http://test.host/images/1129/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1129/categories/1127]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"image_id"=>"1133", "selected_ids"=>[1131, 1131], "action"=>"remove", "controller"=>"image_categories"}
Redirected to http://test.host/images/1133/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1133/categories/remove?selected_ids%5B%5D=1131&selected_ids%5B%5D=1131]


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:28:34) [DELETE]
  Parameters: {"image_id"=>"1133", "selected_ids"=>[1131, 1131], "action"=>"remove", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1133/categories/remove?selected_ids%5B%5D=1131&selected_ids%5B%5D=1131]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"image_id"=>"1137", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb153a14 @name="Category_1135">, #<Category:0x..fdb153a14 @name="Category_1135">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1137/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1137/categories/reorder?all_categories%5B%5D=1135&all_categories%5B%5D=1135]


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:34) [POST]
  Parameters: {"image_id"=>"1137", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb153a14 @name="Category_1135">, #<Category:0x..fdb153a14 @name="Category_1135">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1137/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1137/categories/reorder?all_categories%5B%5D=1135&all_categories%5B%5D=1135]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#index (for 0.0.0.0 at 2009-11-17 21:28:34) [GET]
  Parameters: {"action"=>"index", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#show (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"show", "id"=>"1140", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1140]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#new (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#edit (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"edit", "id"=>"1144", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1144/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1148, 1148], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1148, 1148]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1148, 1148], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1148, 1148]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_suppliers"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_suppliers"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-17 21:28:35) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1154", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1154?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-17 21:28:35) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1154", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers/1154?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#index (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#show (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"show", "id"=>"1160", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1160]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#new (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"edit", "id"=>"1168", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1168/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"product_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"product_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_products"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_products"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]


Processing ProductsController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#update (for 0.0.0.0 at 2009-11-17 21:28:35) [PUT]
  Parameters: {"action"=>"update", "id"=>"1188", "product"=>{"name"=>"A new valid category name", "id"=>1188, "description"=>"A new valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1188?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1188&product%5Bname%5D=A+new+valid+category+name]


Processing ProductsController#update (for 0.0.0.0 at 2009-11-17 21:28:35) [PUT]
  Parameters: {"action"=>"update", "id"=>"1188", "product"=>{"name"=>"A new valid category name", "id"=>1188, "description"=>"A new valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products/1188?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1188&product%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#index (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/roles]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#show (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"show", "id"=>"1195", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1195]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#new (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#edit (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"edit", "id"=>"1201", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1201/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"role_ids"=>[1207, 1207], "action"=>"remove", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1207&role_ids%5B%5D=1207]


Processing RolesController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"role_ids"=>[1207, 1207], "action"=>"remove", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1207&role_ids%5B%5D=1207]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 69ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_roles"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_roles"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]


Processing RolesController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#update (for 0.0.0.0 at 2009-11-17 21:28:35) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1216", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1216?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]


Processing RolesController#update (for 0.0.0.0 at 2009-11-17 21:28:35) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1216", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles/1216?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#index (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"product_id"=>"1219", "action"=>"index", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1219/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"category"=>{"id"=>1225}, "product_id"=>"1224", "action"=>"create", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1224/categories?category%5Bid%5D=1225]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"product_id"=>"1229", "action"=>"destroy", "id"=>"1230", "controller"=>"product_categories"}
Redirected to http://test.host/products/1229/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1229/categories/1230]


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"product_id"=>"1229", "action"=>"destroy", "id"=>"1230", "controller"=>"product_categories"}
Redirected to http://test.host/products/1229/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1229/categories/1230]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"selected_ids"=>[1235, 1235], "product_id"=>"1234", "action"=>"remove", "controller"=>"product_categories"}
Redirected to http://test.host/products/1234/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1234/categories/remove?selected_ids%5B%5D=1235&selected_ids%5B%5D=1235]


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"selected_ids"=>[1235, 1235], "product_id"=>"1234", "action"=>"remove", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1234/categories/remove?selected_ids%5B%5D=1235&selected_ids%5B%5D=1235]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"product_id"=>"1239", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb241c00 @name="Category_1240">, #<Category:0x..fdb241c00 @name="Category_1240">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1239/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1239/categories/reorder?all_categories%5B%5D=1240&all_categories%5B%5D=1240]


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"product_id"=>"1239", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb241c00 @name="Category_1240">, #<Category:0x..fdb241c00 @name="Category_1240">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1239/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1239/categories/reorder?all_categories%5B%5D=1240&all_categories%5B%5D=1240]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'A valid bug title') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:28:35', 'A valid bug title', '2009-11-17 21:28:35', 1, 'A valid bug description', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#index (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/index
Completed in 6ms (View: 0, DB: 3) | 200 OK [http://test.host/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#show (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"show", "id"=>"1247", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1247]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#new (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#edit (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"edit", "id"=>"1253", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1253/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_images"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_images"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_images"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"selected_ids"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"all_images"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]


Processing ImagesController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#update (for 0.0.0.0 at 2009-11-17 21:28:35) [PUT]
  Parameters: {"action"=>"update", "id"=>"1268", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1268?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]


Processing ImagesController#update (for 0.0.0.0 at 2009-11-17 21:28:35) [PUT]
  Parameters: {"action"=>"update", "id"=>"1268", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images/1268?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#index (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"image_id"=>"1274", "action"=>"index", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1274/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#create (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"image_id"=>"1278", "action"=>"create", "product"=>{"id"=>1275}, "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1278/products?product%5Bid%5D=1275]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"image_id"=>"1282", "action"=>"destroy", "id"=>"1279", "controller"=>"image_products"}
Redirected to http://test.host/images/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1282/products/1279]


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"image_id"=>"1282", "action"=>"destroy", "id"=>"1279", "controller"=>"image_products"}
Redirected to http://test.host/images/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1282/products/1279]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"image_id"=>"1286", "selected_ids"=>[1283, 1283], "action"=>"remove", "controller"=>"image_products"}
Redirected to http://test.host/images/1286/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1286/products/remove?selected_ids%5B%5D=1283&selected_ids%5B%5D=1283]


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:35) [DELETE]
  Parameters: {"image_id"=>"1286", "selected_ids"=>[1283, 1283], "action"=>"remove", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1286/products/remove?selected_ids%5B%5D=1283&selected_ids%5B%5D=1283]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"image_id"=>"1290", "all_products"=>[#<Product:0x..fdb1492da @name="Product_1287">, #<Product:0x..fdb1492da @name="Product_1287">], "action"=>"reorder", "controller"=>"image_products"}
Redirected to http://test.host/images/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1290/products/reorder?all_products%5B%5D=1287&all_products%5B%5D=1287]


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:35) [POST]
  Parameters: {"image_id"=>"1290", "all_products"=>[#<Product:0x..fdb1492da @name="Product_1287">, #<Product:0x..fdb1492da @name="Product_1287">], "action"=>"reorder", "controller"=>"image_products"}
Redirected to http://test.host/images/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1290/products/reorder?all_products%5B%5D=1287&all_products%5B%5D=1287]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'A valid category name' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('A valid category name', 1, '2009-11-17 21:28:35', '2009-11-17 21:28:35', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#index (for 0.0.0.0 at 2009-11-17 21:28:35) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1292", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 6ms (View: 0, DB: 2) | 200 OK [http://test.host/categories/1292/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#create (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1295}, "category_id"=>"1296", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1296/products?product%5Bid%5D=1295]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1299", "category_id"=>"1300", "controller"=>"category_products"}
Redirected to http://test.host/categories/1300/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1300/products/1299]


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1299", "category_id"=>"1300", "controller"=>"category_products"}
Redirected to http://test.host/categories/1300/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1300/products/1299]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"selected_ids"=>[1303, 1303], "action"=>"remove", "category_id"=>"1304", "controller"=>"category_products"}
Redirected to http://test.host/categories/1304/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1304/products/remove?selected_ids%5B%5D=1303&selected_ids%5B%5D=1303]


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"selected_ids"=>[1303, 1303], "action"=>"remove", "category_id"=>"1304", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1304/products/remove?selected_ids%5B%5D=1303&selected_ids%5B%5D=1303]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb248ab4 @name="Product_1307">, #<Product:0x..fdb248ab4 @name="Product_1307">], "action"=>"reorder", "category_id"=>"1308", "controller"=>"category_products"}
Redirected to http://test.host/categories/1308/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1308/products/reorder?all_products%5B%5D=1307&all_products%5B%5D=1307]


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb248ab4 @name="Product_1307">, #<Product:0x..fdb248ab4 @name="Product_1307">], "action"=>"reorder", "category_id"=>"1308", "controller"=>"category_products"}
Redirected to http://test.host/categories/1308/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1308/products/reorder?all_products%5B%5D=1307&all_products%5B%5D=1307]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-17 21:28:36) [GET]
  Parameters: {"action"=>"index", "bug_id"=>"1312", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1312/comments]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-17 21:28:36) [GET]
  Parameters: {"action"=>"show", "id"=>"1313", "bug_id"=>"1314", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/show
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1314/comments/1313]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-17 21:28:36) [GET]
  Parameters: {"action"=>"new", "bug_id"=>"1316", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1316/comments/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-17 21:28:36) [GET]
  Parameters: {"action"=>"edit", "id"=>"1317", "bug_id"=>"1318", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1318/comments/1317/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"selected_ids"=>[1321, 1321], "action"=>"remove", "bug_id"=>"1322", "controller"=>"comments"}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"remove", "bug_id"=>"1322", "controller"=>"comments", "all_comments"=>[1321, 1321]}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"selected_ids"=>[1321, 1321], "action"=>"remove", "bug_id"=>"1322", "controller"=>"comments"}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"remove", "bug_id"=>"1322", "controller"=>"comments", "all_comments"=>[1321, 1321]}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"selected_ids"=>[1323, 1323], "action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments"}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments", "all_comments"=>[1323, 1323]}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"selected_ids"=>[1323, 1323], "action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments"}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments", "all_comments"=>[1323, 1323]}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "bug_id"=>"1326", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1326/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "bug_id"=>"1326", "controller"=>"comments"}
Redirected to http://test.host/bugs/1326
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1326/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-17 21:28:36) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1327", "bug_id"=>"1328", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1328/comments/1327?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-17 21:28:36) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1327", "bug_id"=>"1328", "controller"=>"comments"}
Redirected to http://test.host/bugs/1328
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1328/comments/1327?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#index (for 0.0.0.0 at 2009-11-17 21:28:36) [GET]
  Parameters: {"action"=>"index", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#show (for 0.0.0.0 at 2009-11-17 21:28:36) [GET]
  Parameters: {"action"=>"show", "id"=>"1330", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1330]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#new (for 0.0.0.0 at 2009-11-17 21:28:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#edit (for 0.0.0.0 at 2009-11-17 21:28:36) [GET]
  Parameters: {"action"=>"edit", "id"=>"1332", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1332/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1333", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1333]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-17 21:28:36) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1334", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1334]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"selected_ids"=>[1335, 1335], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1335, 1335]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"selected_ids"=>[1335, 1335], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1335, 1335]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-17 21:28:36) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/bugs
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-17 21:28:36) [PUT]
  Parameters: {"action"=>"update", "id"=>"1338", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs/1338
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1338?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-17 21:28:36) [PUT]
  Parameters: {"action"=>"update", "id"=>"1339", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/bugs
Rendering bugs/edit
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1339?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:28:38', 'Acme products dont appear', '2009-11-17 21:28:38', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (4.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:28:38', 'Acme products dont appear', '2009-11-17 21:28:38', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:28:38', 'Acme products dont appear', '2009-11-17 21:28:38', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-17 21:28:38', 'Beers costs more', '2009-11-17 21:28:38', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (4,5)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 4) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 5) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.3ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-17 21:28:38', 'Acme products dont appear', '2009-11-17 21:28:38', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-17 21:28:38', 'Beers costs more', '2009-11-17 21:28:38', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:28:38', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:28:38', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:28:38', `position` = 2 WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-17 21:28:38', `position` = 1 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mCategory Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (43.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 1' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 1', 1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 2' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 2', 2, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (4,5)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.2ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 4) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 4) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 4) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 5) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 5) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 5) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (2.4ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.2ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:38', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:38', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:38', `position` = 3 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:38', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id = 8) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 8, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 8) ORDER BY position[0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:28:38', 'image/jpeg', NULL, '2009-11-17 21:28:38', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 1 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:38', 'image/jpeg', 'thumb', '2009-11-17 21:28:38', 1, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:28:38', 'image/jpeg', NULL, '2009-11-17 21:28:38', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 3 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:38', 'image/jpeg', 'thumb', '2009-11-17 21:28:38', 3, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_images`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:38', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:38', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`category_id` = 10 AND `category_images`.`image_id` IN (3,1)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 1[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 2[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:28:38', 0, '2009-11-17 21:28:38', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:28:38', 0, '2009-11-17 21:28:38', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:28:38', '2009-11-17 21:28:38', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-17 21:28:38', 2, '2009-11-17 21:28:38', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-17 21:28:38', 3, '2009-11-17 21:28:38', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:38', `position` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:38', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` IN (3,2) AND `category_products`.`category_id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-17 21:28:38', 2, '2009-11-17 21:28:38', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-17 21:28:38', 3, '2009-11-17 21:28:38', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 1, NULL, 'Acme products dont appear')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 1, NULL, 'Beers costs more')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 1) [0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 2) [0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-17 21:28:38', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 1, NULL, 'Beers costs more')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-17 21:28:38', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-17 21:28:38', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-17 21:28:38', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-17 21:28:38', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-17 21:28:38', '2009-11-17 21:28:38', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:28:38', 'image/jpeg', NULL, '2009-11-17 21:28:38', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 5 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.3ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:39', 'image/jpeg', 'thumb', '2009-11-17 21:28:39', 5, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:28:39', 'image/jpeg', NULL, '2009-11-17 21:28:39', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 7 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:39', 'image/jpeg', 'thumb', '2009-11-17 21:28:39', 7, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` WHERE (`images`.`parent_id` IS NULL) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (5,7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 5) ORDER BY position[0m
  [4;35;1mImageCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 5) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position, position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 6) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 6) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 6) ORDER BY position, position[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 5 AND position > 1) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 6[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 7) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 7) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position, position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 8) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 8) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 8) ORDER BY position, position[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 7 AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 8[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 8[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 7[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:28:39', 'image/jpeg', NULL, '2009-11-17 21:28:39', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 9 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:39', 'image/jpeg', 'thumb', '2009-11-17 21:28:39', 9, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-3' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:28:39', 'image/jpeg', NULL, '2009-11-17 21:28:39', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 11 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-3' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:39', 'image/jpeg', 'thumb', '2009-11-17 21:28:39', 11, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:39', `position` = 2 WHERE `id` = 9[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:39', `position` = 1 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:39', `position` = 2 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:39', `position` = 1 WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mSQL (5.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-4' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:28:39', 'image/jpeg', NULL, '2009-11-17 21:28:39', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 13 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-4' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 13) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:39', 'image/jpeg', 'thumb', '2009-11-17 21:28:39', 13, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-5' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:28:39', 'image/jpeg', NULL, '2009-11-17 21:28:39', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 15 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-5' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 15) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:39', 'image/jpeg', 'thumb', '2009-11-17 21:28:39', 15, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:28:39', '2009-11-17 21:28:39', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:28:39', '2009-11-17 21:28:39', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:28:39', '2009-11-17 21:28:39', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:28:39', '2009-11-17 21:28:39', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:39', `position` = 2 WHERE `id` = 14[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:39', `position` = 1 WHERE `id` = 15[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.`category_id` IN (15,14)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.2ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:28:39', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:28:39', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:28:39', '2009-11-17 21:28:39', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-17 21:28:39', '2009-11-17 21:28:39', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.2ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:28:39', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-17 21:28:39', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-6' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:28:39', 'image/jpeg', NULL, '2009-11-17 21:28:39', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 17 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-6' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.3ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 17) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:39', 'image/jpeg', 'thumb', '2009-11-17 21:28:39', 17, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:28:39', 'image/jpeg', NULL, '2009-11-17 21:28:39', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 19 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 19) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:39', 'image/jpeg', 'thumb', '2009-11-17 21:28:39', 19, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:28:39', 4, '2009-11-17 21:28:39', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:28:39', 5, '2009-11-17 21:28:39', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:39', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:39', `position` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` IN (5,4) AND `product_images`.`image_id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:28:39', 4, '2009-11-17 21:28:39', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-17 21:28:39', 5, '2009-11-17 21:28:39', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme', 1, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers', 2, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` IN (8,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 8) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 8) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.2ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 8) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:39', `position` = NULL WHERE `id` = 9[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 9) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 9) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 9) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme products dont appear', 1, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers costs more', 2, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:39', `position` = 2 WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:39', `position` = 1 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:39', `position` = 2 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:39', `position` = 1 WHERE `id` = 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:28:39', 0, '2009-11-17 21:28:39', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-17 21:28:39', '2009-11-17 21:28:39', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-17 21:28:39', '2009-11-17 21:28:39', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mProductCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_products`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:28:39', 12, '2009-11-17 21:28:39', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:28:39', 12, '2009-11-17 21:28:39', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:39', `position` = 2 WHERE `id` = 16[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-17 21:28:39', `position` = 1 WHERE `id` = 17[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.`category_id` IN (17,16)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:28:39', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:28:39', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:28:39', 12, '2009-11-17 21:28:39', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-17 21:28:39', 12, '2009-11-17 21:28:39', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:28:39', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-17 21:28:39', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-17 21:28:40', 'image/jpeg', NULL, '2009-11-17 21:28:40', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 21 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 21) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:40', 'image/jpeg', 'thumb', '2009-11-17 21:28:40', 21, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-17 21:28:40', 'image/jpeg', NULL, '2009-11-17 21:28:40', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 23 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri32721-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 23) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-17 21:28:40', 'image/jpeg', 'thumb', '2009-11-17 21:28:40', 23, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:28:40', 0, '2009-11-17 21:28:40', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:28:40', 0, '2009-11-17 21:28:40', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-17 21:28:40', 14, '2009-11-17 21:28:40', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-17 21:28:40', 14, '2009-11-17 21:28:40', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:40', `position` = 2 WHERE `id` = 21[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-17 21:28:40', `position` = 1 WHERE `id` = 23[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.`image_id` IN (23,21)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:28:40', `product_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:28:40', `product_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-17 21:28:40', 14, '2009-11-17 21:28:40', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-17 21:28:40', 14, '2009-11-17 21:28:40', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (7,8)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:28:40', `product_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-17 21:28:40', `product_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSupplier Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `suppliers`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:28:40', 0, '2009-11-17 21:28:40', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:28:40', 0, '2009-11-17 21:28:40', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProductSupplier Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Columns (0.2ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:28:40', 16, '2009-11-17 21:28:40', 1, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:28:40', 16, '2009-11-17 21:28:40', 2, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:28:40', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:28:40', `position` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` IN (2,1) AND `supplier_products`.`product_id` = 16) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:28:40', `supplier_position` = NULL WHERE `id` = 1[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:28:40', `supplier_position` = NULL WHERE `id` = 2[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:28:40', 16, '2009-11-17 21:28:40', 1, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-17 21:28:40', 16, '2009-11-17 21:28:40', 2, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (3,4)) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:28:40', `supplier_position` = NULL WHERE `id` = 3[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:28:40', `supplier_position` = NULL WHERE `id` = 4[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSQL (7.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 'a random blurb', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 'yet more blurm', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-17 21:28:40', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mRole Destroy (0.1ms)[0m   [0mDELETE FROM `roles` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-17 21:28:40', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mRole Destroy (0.1ms)[0m   [0;1mDELETE FROM `roles` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 'a random blurb', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 'yet more blurm', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-17 21:28:40', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-17 21:28:40', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-17 21:28:40', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-17 21:28:40', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:28:40', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 3) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:28:40', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 4) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:28:40', `position` = 2 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:28:40', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:28:40', `position` = 2 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-17 21:28:40', `position` = 1 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-17 21:28:40', 0, '2009-11-17 21:28:40', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-17 21:28:40', 0, '2009-11-17 21:28:40', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-17 21:28:40', '2009-11-17 21:28:40', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-17 21:28:40', 18, '2009-11-17 21:28:40', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-17 21:28:40', 19, '2009-11-17 21:28:40', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:40', `position` = 2 WHERE `id` = 18[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-17 21:28:40', `position` = 1 WHERE `id` = 19[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 7 AND `supplier_products`.`product_id` IN (19,18)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:28:40', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:28:40', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-17 21:28:40', 18, '2009-11-17 21:28:40', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-17 21:28:40', 19, '2009-11-17 21:28:40', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (7,8)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:28:40', `position` = NULL WHERE `id` = 7[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-17 21:28:40', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"show", "id"=>"1005", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1005]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"edit", "id"=>"1011", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1011/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-18 20:19:14) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-18 20:19:14) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#index (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"product_id"=>"1028", "action"=>"index", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1028/suppliers]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#create (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"product_id"=>"1033", "supplier"=>{"id"=>1037}, "action"=>"create", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1033/suppliers?supplier%5Bid%5D=1037]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1043/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb27609a @name="Supplier_1052">, #<Supplier:0x..fdb27609a @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb27609a @name="Supplier_1052">, #<Supplier:0x..fdb27609a @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#index (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"index", "supplier_id"=>"1054", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1054/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#create (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1057}, "supplier_id"=>"1058", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1058/products?product%5Bid%5D=1057]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1066/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb26a704 @name="Product_1069">, #<Product:0x..fdb26a704 @name="Product_1069">], "action"=>"reorder", "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb26a704 @name="Product_1069">, #<Product:0x..fdb26a704 @name="Product_1069">], "action"=>"reorder", "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'value for name') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('value for name', 1, '2009-11-18 20:19:14', 0, '2009-11-18 20:19:14', 0, 6, 'empty', 'empty', 'value for description', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (4.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#index (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1074", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 6ms (View: 0, DB: 6) | 200 OK [http://test.host/categories/1074/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#create (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"action"=>"create", "category_id"=>"1078", "controller"=>"category_images", "image"=>{"id"=>1080}}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1078/images?image%5Bid%5D=1080]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1084", "category_id"=>"1082", "controller"=>"category_images"}
Redirected to http://test.host/categories/1082/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1082/images/1084]


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1084", "category_id"=>"1082", "controller"=>"category_images"}
Redirected to http://test.host/categories/1082/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1082/images/1084]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"selected_ids"=>[1088, 1088], "action"=>"remove", "category_id"=>"1086", "controller"=>"category_images"}
Redirected to http://test.host/categories/1086/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1086/images/remove?selected_ids%5B%5D=1088&selected_ids%5B%5D=1088]


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"selected_ids"=>[1088, 1088], "action"=>"remove", "category_id"=>"1086", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1086/images/remove?selected_ids%5B%5D=1088&selected_ids%5B%5D=1088]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1ff940 @name="Image_1092">, #<Image:0x..fdb1ff940 @name="Image_1092">], "action"=>"reorder", "category_id"=>"1090", "controller"=>"category_images"}
Redirected to http://test.host/categories/1090/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1090/images/reorder?all_images%5B%5D=1092&all_images%5B%5D=1092]


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1ff940 @name="Image_1092">, #<Image:0x..fdb1ff940 @name="Image_1092">], "action"=>"reorder", "category_id"=>"1090", "controller"=>"category_images"}
Redirected to http://test.host/categories/1090/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1090/images/reorder?all_images%5B%5D=1092&all_images%5B%5D=1092]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#index (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"product_id"=>"1093", "action"=>"index", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1093/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#create (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"product_id"=>"1098", "action"=>"create", "controller"=>"product_images", "image"=>{"id"=>1101}}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1098/images?image%5Bid%5D=1101]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"product_id"=>"1103", "action"=>"destroy", "id"=>"1106", "controller"=>"product_images"}
Redirected to http://test.host/products/1103/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1103/images/1106]


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"product_id"=>"1103", "action"=>"destroy", "id"=>"1106", "controller"=>"product_images"}
Redirected to http://test.host/products/1103/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1103/images/1106]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"selected_ids"=>[1111, 1111], "product_id"=>"1108", "action"=>"remove", "controller"=>"product_images"}
Redirected to http://test.host/products/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1108/images/remove?selected_ids%5B%5D=1111&selected_ids%5B%5D=1111]


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"selected_ids"=>[1111, 1111], "product_id"=>"1108", "action"=>"remove", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1108/images/remove?selected_ids%5B%5D=1111&selected_ids%5B%5D=1111]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"product_id"=>"1113", "all_images"=>[#<Image:0x..fdb196c38 @name="Image_1116">, #<Image:0x..fdb196c38 @name="Image_1116">], "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1113/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1113/images/reorder?all_images%5B%5D=1116&all_images%5B%5D=1116]


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"product_id"=>"1113", "all_images"=>[#<Image:0x..fdb196c38 @name="Image_1116">, #<Image:0x..fdb196c38 @name="Image_1116">], "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1113/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1113/images/reorder?all_images%5B%5D=1116&all_images%5B%5D=1116]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#index (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"image_id"=>"1121", "action"=>"index", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1121/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#create (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"image_id"=>"1125", "category"=>{"id"=>1123}, "action"=>"create", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1125/categories?category%5Bid%5D=1123]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"image_id"=>"1129", "action"=>"destroy", "id"=>"1127", "controller"=>"image_categories"}
Redirected to http://test.host/images/1129/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1129/categories/1127]


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"image_id"=>"1129", "action"=>"destroy", "id"=>"1127", "controller"=>"image_categories"}
Redirected to http://test.host/images/1129/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1129/categories/1127]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"image_id"=>"1133", "selected_ids"=>[1131, 1131], "action"=>"remove", "controller"=>"image_categories"}
Redirected to http://test.host/images/1133/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1133/categories/remove?selected_ids%5B%5D=1131&selected_ids%5B%5D=1131]


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"image_id"=>"1133", "selected_ids"=>[1131, 1131], "action"=>"remove", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1133/categories/remove?selected_ids%5B%5D=1131&selected_ids%5B%5D=1131]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"image_id"=>"1137", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb13f08c @name="Category_1135">, #<Category:0x..fdb13f08c @name="Category_1135">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1137/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1137/categories/reorder?all_categories%5B%5D=1135&all_categories%5B%5D=1135]


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"image_id"=>"1137", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb13f08c @name="Category_1135">, #<Category:0x..fdb13f08c @name="Category_1135">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1137/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1137/categories/reorder?all_categories%5B%5D=1135&all_categories%5B%5D=1135]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#index (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#show (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"show", "id"=>"1140", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1140]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#new (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#edit (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"edit", "id"=>"1144", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1144/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"selected_ids"=>[1148, 1148], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1148, 1148]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"selected_ids"=>[1148, 1148], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1148, 1148]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"selected_ids"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"all_suppliers"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"selected_ids"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"all_suppliers"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-18 20:19:14) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-18 20:19:14) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1154", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1154?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-18 20:19:14) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1154", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers/1154?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#index (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#show (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"show", "id"=>"1160", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1160]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#new (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-11-18 20:19:14) [GET]
  Parameters: {"action"=>"edit", "id"=>"1168", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1168/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:14) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"product_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"product_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_products"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_products"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]


Processing ProductsController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#update (for 0.0.0.0 at 2009-11-18 20:19:15) [PUT]
  Parameters: {"action"=>"update", "id"=>"1188", "product"=>{"name"=>"A new valid category name", "id"=>1188, "description"=>"A new valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1188?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1188&product%5Bname%5D=A+new+valid+category+name]


Processing ProductsController#update (for 0.0.0.0 at 2009-11-18 20:19:15) [PUT]
  Parameters: {"action"=>"update", "id"=>"1188", "product"=>{"name"=>"A new valid category name", "id"=>1188, "description"=>"A new valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products/1188?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1188&product%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#index (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/roles]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#show (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"show", "id"=>"1195", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1195]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#new (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#edit (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"edit", "id"=>"1201", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1201/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"role_ids"=>[1207, 1207], "action"=>"remove", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1207&role_ids%5B%5D=1207]


Processing RolesController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"role_ids"=>[1207, 1207], "action"=>"remove", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1207&role_ids%5B%5D=1207]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_roles"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_roles"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]


Processing RolesController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#update (for 0.0.0.0 at 2009-11-18 20:19:15) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1216", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1216?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]


Processing RolesController#update (for 0.0.0.0 at 2009-11-18 20:19:15) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1216", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles/1216?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#index (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"product_id"=>"1219", "action"=>"index", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1219/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"category"=>{"id"=>1225}, "product_id"=>"1224", "action"=>"create", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1224/categories?category%5Bid%5D=1225]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"product_id"=>"1229", "action"=>"destroy", "id"=>"1230", "controller"=>"product_categories"}
Redirected to http://test.host/products/1229/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1229/categories/1230]


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"product_id"=>"1229", "action"=>"destroy", "id"=>"1230", "controller"=>"product_categories"}
Redirected to http://test.host/products/1229/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1229/categories/1230]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"selected_ids"=>[1235, 1235], "product_id"=>"1234", "action"=>"remove", "controller"=>"product_categories"}
Redirected to http://test.host/products/1234/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1234/categories/remove?selected_ids%5B%5D=1235&selected_ids%5B%5D=1235]


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"selected_ids"=>[1235, 1235], "product_id"=>"1234", "action"=>"remove", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1234/categories/remove?selected_ids%5B%5D=1235&selected_ids%5B%5D=1235]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"product_id"=>"1239", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb229a24 @name="Category_1240">, #<Category:0x..fdb229a24 @name="Category_1240">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1239/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1239/categories/reorder?all_categories%5B%5D=1240&all_categories%5B%5D=1240]


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"product_id"=>"1239", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb229a24 @name="Category_1240">, #<Category:0x..fdb229a24 @name="Category_1240">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1239/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1239/categories/reorder?all_categories%5B%5D=1240&all_categories%5B%5D=1240]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'A valid bug title') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:19:15', 'A valid bug title', '2009-11-18 20:19:15', 1, 'A valid bug description', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#index (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/index
Completed in 6ms (View: 0, DB: 3) | 200 OK [http://test.host/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#show (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"show", "id"=>"1247", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1247]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#new (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#edit (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"edit", "id"=>"1253", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1253/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_images"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_images"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_images"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_images"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]


Processing ImagesController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#update (for 0.0.0.0 at 2009-11-18 20:19:15) [PUT]
  Parameters: {"action"=>"update", "id"=>"1268", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1268?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]


Processing ImagesController#update (for 0.0.0.0 at 2009-11-18 20:19:15) [PUT]
  Parameters: {"action"=>"update", "id"=>"1268", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images/1268?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#index (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"image_id"=>"1274", "action"=>"index", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1274/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"image_id"=>"1278", "action"=>"create", "product"=>{"id"=>1275}, "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1278/products?product%5Bid%5D=1275]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"image_id"=>"1282", "action"=>"destroy", "id"=>"1279", "controller"=>"image_products"}
Redirected to http://test.host/images/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1282/products/1279]


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"image_id"=>"1282", "action"=>"destroy", "id"=>"1279", "controller"=>"image_products"}
Redirected to http://test.host/images/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1282/products/1279]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"image_id"=>"1286", "selected_ids"=>[1283, 1283], "action"=>"remove", "controller"=>"image_products"}
Redirected to http://test.host/images/1286/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1286/products/remove?selected_ids%5B%5D=1283&selected_ids%5B%5D=1283]


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"image_id"=>"1286", "selected_ids"=>[1283, 1283], "action"=>"remove", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1286/products/remove?selected_ids%5B%5D=1283&selected_ids%5B%5D=1283]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"image_id"=>"1290", "all_products"=>[#<Product:0x..fdb1f45cc @name="Product_1287">, #<Product:0x..fdb1f45cc @name="Product_1287">], "action"=>"reorder", "controller"=>"image_products"}
Redirected to http://test.host/images/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1290/products/reorder?all_products%5B%5D=1287&all_products%5B%5D=1287]


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"image_id"=>"1290", "all_products"=>[#<Product:0x..fdb1f45cc @name="Product_1287">, #<Product:0x..fdb1f45cc @name="Product_1287">], "action"=>"reorder", "controller"=>"image_products"}
Redirected to http://test.host/images/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1290/products/reorder?all_products%5B%5D=1287&all_products%5B%5D=1287]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'A valid category name' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('A valid category name', 1, '2009-11-18 20:19:15', '2009-11-18 20:19:15', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#index (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1292", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 6ms (View: 0, DB: 4) | 200 OK [http://test.host/categories/1292/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1295}, "category_id"=>"1296", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1296/products?product%5Bid%5D=1295]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1299", "category_id"=>"1300", "controller"=>"category_products"}
Redirected to http://test.host/categories/1300/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1300/products/1299]


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1299", "category_id"=>"1300", "controller"=>"category_products"}
Redirected to http://test.host/categories/1300/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1300/products/1299]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"selected_ids"=>[1303, 1303], "action"=>"remove", "category_id"=>"1304", "controller"=>"category_products"}
Redirected to http://test.host/categories/1304/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1304/products/remove?selected_ids%5B%5D=1303&selected_ids%5B%5D=1303]


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"selected_ids"=>[1303, 1303], "action"=>"remove", "category_id"=>"1304", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1304/products/remove?selected_ids%5B%5D=1303&selected_ids%5B%5D=1303]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb230df6 @name="Product_1307">, #<Product:0x..fdb230df6 @name="Product_1307">], "action"=>"reorder", "category_id"=>"1308", "controller"=>"category_products"}
Redirected to http://test.host/categories/1308/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1308/products/reorder?all_products%5B%5D=1307&all_products%5B%5D=1307]


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb230df6 @name="Product_1307">, #<Product:0x..fdb230df6 @name="Product_1307">], "action"=>"reorder", "category_id"=>"1308", "controller"=>"category_products"}
Redirected to http://test.host/categories/1308/products
Completed in 2ms (DB: 0) | 302 Found [http://test.host/categories/1308/products/reorder?all_products%5B%5D=1307&all_products%5B%5D=1307]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"index", "bug_id"=>"1312", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1312/comments]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"show", "id"=>"1313", "bug_id"=>"1314", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/show
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1314/comments/1313]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"new", "bug_id"=>"1316", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1316/comments/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"edit", "id"=>"1317", "bug_id"=>"1318", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1318/comments/1317/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"selected_ids"=>[1321, 1321], "action"=>"remove", "bug_id"=>"1322", "controller"=>"comments"}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"remove", "bug_id"=>"1322", "controller"=>"comments", "all_comments"=>[1321, 1321]}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"selected_ids"=>[1321, 1321], "action"=>"remove", "bug_id"=>"1322", "controller"=>"comments"}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"remove", "bug_id"=>"1322", "controller"=>"comments", "all_comments"=>[1321, 1321]}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1323, 1323], "action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments"}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments", "all_comments"=>[1323, 1323]}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"selected_ids"=>[1323, 1323], "action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments"}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments", "all_comments"=>[1323, 1323]}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "bug_id"=>"1326", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1326/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-18 20:19:15) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "bug_id"=>"1326", "controller"=>"comments"}
Redirected to http://test.host/bugs/1326
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/bugs/1326/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-18 20:19:15) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1327", "bug_id"=>"1328", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1328/comments/1327?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-18 20:19:15) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1327", "bug_id"=>"1328", "controller"=>"comments"}
Redirected to http://test.host/bugs/1328
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1328/comments/1327?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#index (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#show (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"show", "id"=>"1330", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1330]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#new (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#edit (for 0.0.0.0 at 2009-11-18 20:19:15) [GET]
  Parameters: {"action"=>"edit", "id"=>"1332", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1332/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:15) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1333", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1333]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-18 20:19:16) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1334", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1334]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:16) [POST]
  Parameters: {"selected_ids"=>[1335, 1335], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:16) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1335, 1335]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:16) [POST]
  Parameters: {"selected_ids"=>[1335, 1335], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-18 20:19:16) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1335, 1335]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-18 20:19:16) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-18 20:19:16) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/bugs
Rendering bugs/new
Completed in 70ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-18 20:19:16) [PUT]
  Parameters: {"action"=>"update", "id"=>"1338", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs/1338
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1338?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-18 20:19:16) [PUT]
  Parameters: {"action"=>"update", "id"=>"1339", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/bugs
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1339?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.2ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:19:18', 'Acme products dont appear', '2009-11-18 20:19:18', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:19:18', 'Acme products dont appear', '2009-11-18 20:19:18', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:19:18', 'Acme products dont appear', '2009-11-18 20:19:18', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-18 20:19:18', 'Beers costs more', '2009-11-18 20:19:18', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (4,5)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 4) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 5) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:19:18', 'Acme products dont appear', '2009-11-18 20:19:18', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-18 20:19:18', 'Beers costs more', '2009-11-18 20:19:18', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:19:18', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:19:18', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:19:18', `position` = 2 WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:19:18', `position` = 1 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mCategory Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 1' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 1', 1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 2' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 2', 2, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (4,5)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 4) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 4) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 4) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 5) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 5) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 5) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:18', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:18', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:18', `position` = 3 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:18', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id = 8) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 8, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 8) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:19:18', 'image/jpeg', NULL, '2009-11-18 20:19:18', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 1 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:18', 'image/jpeg', 'thumb', '2009-11-18 20:19:18', 1, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:19:18', 'image/jpeg', NULL, '2009-11-18 20:19:18', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 3 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:18', 'image/jpeg', 'thumb', '2009-11-18 20:19:18', 3, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_images`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:18', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:18', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`category_id` = 10 AND `category_images`.`image_id` IN (3,1)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 1[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 2[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mSQL (5.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:19:18', 0, '2009-11-18 20:19:18', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:19:18', 0, '2009-11-18 20:19:18', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:19:18', '2009-11-18 20:19:18', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-18 20:19:18', 2, '2009-11-18 20:19:18', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-18 20:19:18', 3, '2009-11-18 20:19:18', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:18', `position` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:18', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` IN (3,2) AND `category_products`.`category_id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-18 20:19:18', 2, '2009-11-18 20:19:18', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-18 20:19:18', 3, '2009-11-18 20:19:18', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 1, NULL, 'Acme products dont appear')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 1, NULL, 'Beers costs more')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 1) [0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 2) [0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (2.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 1, NULL, 'Beers costs more')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-18 20:19:18', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-18 20:19:18', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-18 20:19:18', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-18 20:19:18', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-18 20:19:18', '2009-11-18 20:19:18', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:19:18', 'image/jpeg', NULL, '2009-11-18 20:19:18', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 5 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:18', 'image/jpeg', 'thumb', '2009-11-18 20:19:18', 5, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:19:18', 'image/jpeg', NULL, '2009-11-18 20:19:18', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 7 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:18', 'image/jpeg', 'thumb', '2009-11-18 20:19:18', 7, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` WHERE (`images`.`parent_id` IS NULL) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (5,7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 5) ORDER BY position[0m
  [4;35;1mImageCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 5) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position, position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 6) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 6) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 6) ORDER BY position, position[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 5 AND position > 1) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 6[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 7) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 7) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position, position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 8) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 8) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 8) ORDER BY position, position[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 7 AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 8[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 8[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:18', `position` = NULL WHERE `id` = 7[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` ORDER BY position[0m
  [4;35;1mSQL (9.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:19:19', 'image/jpeg', NULL, '2009-11-18 20:19:19', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 9 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:19', 'image/jpeg', 'thumb', '2009-11-18 20:19:19', 9, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-3' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:19:19', 'image/jpeg', NULL, '2009-11-18 20:19:19', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 11 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-3' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:19', 'image/jpeg', 'thumb', '2009-11-18 20:19:19', 11, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:19', `position` = 2 WHERE `id` = 9[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:19', `position` = 1 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:19', `position` = 2 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:19', `position` = 1 WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-4' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:19:19', 'image/jpeg', NULL, '2009-11-18 20:19:19', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 13 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-4' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 13) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:19', 'image/jpeg', 'thumb', '2009-11-18 20:19:19', 13, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-5' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:19:19', 'image/jpeg', NULL, '2009-11-18 20:19:19', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 15 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-5' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 15) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:19', 'image/jpeg', 'thumb', '2009-11-18 20:19:19', 15, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:19:19', '2009-11-18 20:19:19', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:19:19', '2009-11-18 20:19:19', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-18 20:19:19', '2009-11-18 20:19:19', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-18 20:19:19', '2009-11-18 20:19:19', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:19', `position` = 2 WHERE `id` = 14[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:19', `position` = 1 WHERE `id` = 15[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.`category_id` IN (15,14)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:19:19', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:19:19', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-18 20:19:19', '2009-11-18 20:19:19', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-18 20:19:19', '2009-11-18 20:19:19', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.2ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:19:19', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:19:19', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-6' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:19:19', 'image/jpeg', NULL, '2009-11-18 20:19:19', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 17 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-6' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 17) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:19', 'image/jpeg', 'thumb', '2009-11-18 20:19:19', 17, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:19:19', 'image/jpeg', NULL, '2009-11-18 20:19:19', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 19 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 19) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:19', 'image/jpeg', 'thumb', '2009-11-18 20:19:19', 19, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-18 20:19:19', 4, '2009-11-18 20:19:19', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-18 20:19:19', 5, '2009-11-18 20:19:19', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:19', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (2.3ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:19', `position` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` IN (5,4) AND `product_images`.`image_id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:19:19', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:19:19', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-18 20:19:19', 4, '2009-11-18 20:19:19', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-18 20:19:19', 5, '2009-11-18 20:19:19', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:19:19', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:19:19', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;35;1mSQL (5.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme', 1, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers', 2, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` IN (8,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:19', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 8) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 8) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.2ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 8) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:19', `position` = NULL WHERE `id` = 9[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 9) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 9) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 9) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme products dont appear', 1, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers costs more', 2, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:19', `position` = 2 WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:19', `position` = 1 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:19', `position` = 2 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:19', `position` = 1 WHERE `id` = 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:19:19', '2009-11-18 20:19:19', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:19:19', '2009-11-18 20:19:19', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mProductCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_products`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-18 20:19:19', 12, '2009-11-18 20:19:19', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-18 20:19:19', 12, '2009-11-18 20:19:19', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:19', `position` = 2 WHERE `id` = 16[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:19:19', `position` = 1 WHERE `id` = 17[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.`category_id` IN (17,16)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:19:19', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:19:19', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-18 20:19:19', 12, '2009-11-18 20:19:19', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-18 20:19:19', 12, '2009-11-18 20:19:19', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:19:19', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:19:19', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:19:19', 'image/jpeg', NULL, '2009-11-18 20:19:19', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 21 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 21) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:19', 'image/jpeg', 'thumb', '2009-11-18 20:19:19', 21, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.2ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:19:19', 'image/jpeg', NULL, '2009-11-18 20:19:19', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 23 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14311-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 23) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:19:19', 'image/jpeg', 'thumb', '2009-11-18 20:19:19', 23, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:19:19', 0, '2009-11-18 20:19:19', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-18 20:19:20', 14, '2009-11-18 20:19:20', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-18 20:19:20', 14, '2009-11-18 20:19:20', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:20', `position` = 2 WHERE `id` = 21[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:19:20', `position` = 1 WHERE `id` = 23[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.`image_id` IN (23,21)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:19:20', `product_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:19:20', `product_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-18 20:19:20', 14, '2009-11-18 20:19:20', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-18 20:19:20', 14, '2009-11-18 20:19:20', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (7,8)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:19:20', `product_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:19:20', `product_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSupplier Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `suppliers`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:19:20', 0, '2009-11-18 20:19:20', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:19:20', 0, '2009-11-18 20:19:20', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProductSupplier Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-18 20:19:20', 16, '2009-11-18 20:19:20', 1, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-18 20:19:20', 16, '2009-11-18 20:19:20', 2, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:19:20', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:19:20', `position` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` IN (2,1) AND `supplier_products`.`product_id` = 16) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:19:20', `supplier_position` = NULL WHERE `id` = 1[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:19:20', `supplier_position` = NULL WHERE `id` = 2[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-18 20:19:20', 16, '2009-11-18 20:19:20', 1, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-18 20:19:20', 16, '2009-11-18 20:19:20', 2, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (3,4)) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:19:20', `supplier_position` = NULL WHERE `id` = 3[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:19:20', `supplier_position` = NULL WHERE `id` = 4[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 'a random blurb', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 'yet more blurm', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 20:19:20', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mRole Destroy (0.1ms)[0m   [0mDELETE FROM `roles` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-18 20:19:20', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mRole Destroy (0.1ms)[0m   [0;1mDELETE FROM `roles` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 'a random blurb', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 'yet more blurm', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 20:19:20', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-18 20:19:20', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 20:19:20', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-18 20:19:20', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:19:20', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 3) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:19:20', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 4) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:19:20', `position` = 2 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:19:20', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:19:20', `position` = 2 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:19:20', `position` = 1 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:19:20', 0, '2009-11-18 20:19:20', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:19:20', 0, '2009-11-18 20:19:20', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-18 20:19:20', '2009-11-18 20:19:20', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-18 20:19:20', 18, '2009-11-18 20:19:20', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-18 20:19:20', 19, '2009-11-18 20:19:20', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:20', `position` = 2 WHERE `id` = 18[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:19:20', `position` = 1 WHERE `id` = 19[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 7 AND `supplier_products`.`product_id` IN (19,18)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:19:20', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:19:20', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-18 20:19:20', 18, '2009-11-18 20:19:20', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-18 20:19:20', 19, '2009-11-18 20:19:20', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (7,8)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:19:20', `position` = NULL WHERE `id` = 7[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:19:20', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-11-18 20:20:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-11-18 20:20:23) [GET]
  Parameters: {"action"=>"show", "id"=>"1005", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1005]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-11-18 20:20:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-11-18 20:20:23) [GET]
  Parameters: {"action"=>"edit", "id"=>"1011", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1011/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-18 20:20:23) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-18 20:20:23) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#index (for 0.0.0.0 at 2009-11-18 20:20:23) [GET]
  Parameters: {"product_id"=>"1028", "action"=>"index", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1028/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#create (for 0.0.0.0 at 2009-11-18 20:20:23) [POST]
  Parameters: {"product_id"=>"1033", "supplier"=>{"id"=>1037}, "action"=>"create", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1033/suppliers?supplier%5Bid%5D=1037]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:20:23) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:20:23) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1043/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb297c04 @name="Supplier_1052">, #<Supplier:0x..fdb297c04 @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb297c04 @name="Supplier_1052">, #<Supplier:0x..fdb297c04 @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#index (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"index", "supplier_id"=>"1054", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1054/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#create (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1057}, "supplier_id"=>"1058", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1058/products?product%5Bid%5D=1057]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1066/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb20a0ac @name="Product_1069">, #<Product:0x..fdb20a0ac @name="Product_1069">], "action"=>"reorder", "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb20a0ac @name="Product_1069">, #<Product:0x..fdb20a0ac @name="Product_1069">], "action"=>"reorder", "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'value for name') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('value for name', 1, '2009-11-18 20:20:24', 0, '2009-11-18 20:20:24', 0, 6, 'empty', 'empty', 'value for description', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (6.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#index (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1074", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 6ms (View: 0, DB: 8) | 200 OK [http://test.host/categories/1074/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#create (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"action"=>"create", "category_id"=>"1078", "controller"=>"category_images", "image"=>{"id"=>1080}}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1078/images?image%5Bid%5D=1080]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1084", "category_id"=>"1082", "controller"=>"category_images"}
Redirected to http://test.host/categories/1082/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1082/images/1084]


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1084", "category_id"=>"1082", "controller"=>"category_images"}
Redirected to http://test.host/categories/1082/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1082/images/1084]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"selected_ids"=>[1088, 1088], "action"=>"remove", "category_id"=>"1086", "controller"=>"category_images"}
Redirected to http://test.host/categories/1086/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1086/images/remove?selected_ids%5B%5D=1088&selected_ids%5B%5D=1088]


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"selected_ids"=>[1088, 1088], "action"=>"remove", "category_id"=>"1086", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1086/images/remove?selected_ids%5B%5D=1088&selected_ids%5B%5D=1088]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb19f2fc @name="Image_1092">, #<Image:0x..fdb19f2fc @name="Image_1092">], "action"=>"reorder", "category_id"=>"1090", "controller"=>"category_images"}
Redirected to http://test.host/categories/1090/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1090/images/reorder?all_images%5B%5D=1092&all_images%5B%5D=1092]


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb19f2fc @name="Image_1092">, #<Image:0x..fdb19f2fc @name="Image_1092">], "action"=>"reorder", "category_id"=>"1090", "controller"=>"category_images"}
Redirected to http://test.host/categories/1090/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1090/images/reorder?all_images%5B%5D=1092&all_images%5B%5D=1092]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#index (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"product_id"=>"1093", "action"=>"index", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1093/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#create (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"product_id"=>"1098", "action"=>"create", "controller"=>"product_images", "image"=>{"id"=>1101}}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1098/images?image%5Bid%5D=1101]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"product_id"=>"1103", "action"=>"destroy", "id"=>"1106", "controller"=>"product_images"}
Redirected to http://test.host/products/1103/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1103/images/1106]


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"product_id"=>"1103", "action"=>"destroy", "id"=>"1106", "controller"=>"product_images"}
Redirected to http://test.host/products/1103/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1103/images/1106]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"selected_ids"=>[1111, 1111], "product_id"=>"1108", "action"=>"remove", "controller"=>"product_images"}
Redirected to http://test.host/products/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1108/images/remove?selected_ids%5B%5D=1111&selected_ids%5B%5D=1111]


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"selected_ids"=>[1111, 1111], "product_id"=>"1108", "action"=>"remove", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1108/images/remove?selected_ids%5B%5D=1111&selected_ids%5B%5D=1111]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"product_id"=>"1113", "all_images"=>[#<Image:0x..fdb137134 @name="Image_1116">, #<Image:0x..fdb137134 @name="Image_1116">], "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1113/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1113/images/reorder?all_images%5B%5D=1116&all_images%5B%5D=1116]


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"product_id"=>"1113", "all_images"=>[#<Image:0x..fdb137134 @name="Image_1116">, #<Image:0x..fdb137134 @name="Image_1116">], "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1113/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1113/images/reorder?all_images%5B%5D=1116&all_images%5B%5D=1116]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#index (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"image_id"=>"1121", "action"=>"index", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1121/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#create (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"image_id"=>"1125", "category"=>{"id"=>1123}, "action"=>"create", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1125/categories?category%5Bid%5D=1123]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"image_id"=>"1129", "action"=>"destroy", "id"=>"1127", "controller"=>"image_categories"}
Redirected to http://test.host/images/1129/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1129/categories/1127]


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"image_id"=>"1129", "action"=>"destroy", "id"=>"1127", "controller"=>"image_categories"}
Redirected to http://test.host/images/1129/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1129/categories/1127]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"image_id"=>"1133", "selected_ids"=>[1131, 1131], "action"=>"remove", "controller"=>"image_categories"}
Redirected to http://test.host/images/1133/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1133/categories/remove?selected_ids%5B%5D=1131&selected_ids%5B%5D=1131]


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"image_id"=>"1133", "selected_ids"=>[1131, 1131], "action"=>"remove", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1133/categories/remove?selected_ids%5B%5D=1131&selected_ids%5B%5D=1131]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"image_id"=>"1137", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb0df588 @name="Category_1135">, #<Category:0x..fdb0df588 @name="Category_1135">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1137/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1137/categories/reorder?all_categories%5B%5D=1135&all_categories%5B%5D=1135]


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"image_id"=>"1137", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb0df588 @name="Category_1135">, #<Category:0x..fdb0df588 @name="Category_1135">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1137/categories
Completed in 69ms (DB: 0) | 302 Found [http://test.host/images/1137/categories/reorder?all_categories%5B%5D=1135&all_categories%5B%5D=1135]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#index (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#show (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1140", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1140]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#new (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#edit (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"edit", "id"=>"1144", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1144/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1148, 1148], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1148, 1148]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1148, 1148], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1148, 1148]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_suppliers"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_suppliers"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-18 20:20:24) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1154", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1154?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-18 20:20:24) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1154", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers/1154?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#index (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#show (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1160", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1160]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#new (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"edit", "id"=>"1168", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1168/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"product_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"product_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_products"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_products"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#create (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]


Processing ProductsController#create (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#update (for 0.0.0.0 at 2009-11-18 20:20:24) [PUT]
  Parameters: {"action"=>"update", "id"=>"1188", "product"=>{"name"=>"A new valid category name", "id"=>1188, "description"=>"A new valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1188?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1188&product%5Bname%5D=A+new+valid+category+name]


Processing ProductsController#update (for 0.0.0.0 at 2009-11-18 20:20:24) [PUT]
  Parameters: {"action"=>"update", "id"=>"1188", "product"=>{"name"=>"A new valid category name", "id"=>1188, "description"=>"A new valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products/1188?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1188&product%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#index (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/roles]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#show (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1195", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1195]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#new (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#edit (for 0.0.0.0 at 2009-11-18 20:20:24) [GET]
  Parameters: {"action"=>"edit", "id"=>"1201", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1201/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"role_ids"=>[1207, 1207], "action"=>"remove", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1207&role_ids%5B%5D=1207]


Processing RolesController#remove (for 0.0.0.0 at 2009-11-18 20:20:24) [DELETE]
  Parameters: {"role_ids"=>[1207, 1207], "action"=>"remove", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1207&role_ids%5B%5D=1207]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_roles"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"selected_ids"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:24) [POST]
  Parameters: {"all_roles"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]


Processing RolesController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#update (for 0.0.0.0 at 2009-11-18 20:20:25) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1216", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1216?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]


Processing RolesController#update (for 0.0.0.0 at 2009-11-18 20:20:25) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1216", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles/1216?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#index (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"product_id"=>"1219", "action"=>"index", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1219/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"category"=>{"id"=>1225}, "product_id"=>"1224", "action"=>"create", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1224/categories?category%5Bid%5D=1225]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"product_id"=>"1229", "action"=>"destroy", "id"=>"1230", "controller"=>"product_categories"}
Redirected to http://test.host/products/1229/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1229/categories/1230]


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"product_id"=>"1229", "action"=>"destroy", "id"=>"1230", "controller"=>"product_categories"}
Redirected to http://test.host/products/1229/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1229/categories/1230]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"selected_ids"=>[1235, 1235], "product_id"=>"1234", "action"=>"remove", "controller"=>"product_categories"}
Redirected to http://test.host/products/1234/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1234/categories/remove?selected_ids%5B%5D=1235&selected_ids%5B%5D=1235]


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"selected_ids"=>[1235, 1235], "product_id"=>"1234", "action"=>"remove", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1234/categories/remove?selected_ids%5B%5D=1235&selected_ids%5B%5D=1235]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"product_id"=>"1239", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb1c8e86 @name="Category_1240">, #<Category:0x..fdb1c8e86 @name="Category_1240">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1239/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1239/categories/reorder?all_categories%5B%5D=1240&all_categories%5B%5D=1240]


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"product_id"=>"1239", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb1c8e86 @name="Category_1240">, #<Category:0x..fdb1c8e86 @name="Category_1240">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1239/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1239/categories/reorder?all_categories%5B%5D=1240&all_categories%5B%5D=1240]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.2ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'A valid bug title') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:20:25', 'A valid bug title', '2009-11-18 20:20:25', 1, 'A valid bug description', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#index (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/index
Completed in 6ms (View: 0, DB: 3) | 200 OK [http://test.host/images]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#show (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1247", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1247]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#new (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#edit (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"edit", "id"=>"1253", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1253/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"selected_ids"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"all_images"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"selected_ids"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"all_images"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"selected_ids"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"all_images"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"selected_ids"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"all_images"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]


Processing ImagesController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#update (for 0.0.0.0 at 2009-11-18 20:20:25) [PUT]
  Parameters: {"action"=>"update", "id"=>"1268", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1268?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]


Processing ImagesController#update (for 0.0.0.0 at 2009-11-18 20:20:25) [PUT]
  Parameters: {"action"=>"update", "id"=>"1268", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images/1268?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#index (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"image_id"=>"1274", "action"=>"index", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1274/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"image_id"=>"1278", "action"=>"create", "product"=>{"id"=>1275}, "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1278/products?product%5Bid%5D=1275]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"image_id"=>"1282", "action"=>"destroy", "id"=>"1279", "controller"=>"image_products"}
Redirected to http://test.host/images/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1282/products/1279]


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"image_id"=>"1282", "action"=>"destroy", "id"=>"1279", "controller"=>"image_products"}
Redirected to http://test.host/images/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1282/products/1279]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"image_id"=>"1286", "selected_ids"=>[1283, 1283], "action"=>"remove", "controller"=>"image_products"}
Redirected to http://test.host/images/1286/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1286/products/remove?selected_ids%5B%5D=1283&selected_ids%5B%5D=1283]


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"image_id"=>"1286", "selected_ids"=>[1283, 1283], "action"=>"remove", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 69ms (View: 12, DB: 0) | 200 OK [http://test.host/images/1286/products/remove?selected_ids%5B%5D=1283&selected_ids%5B%5D=1283]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"image_id"=>"1290", "all_products"=>[#<Product:0x..fdb297d26 @name="Product_1287">, #<Product:0x..fdb297d26 @name="Product_1287">], "action"=>"reorder", "controller"=>"image_products"}
Redirected to http://test.host/images/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1290/products/reorder?all_products%5B%5D=1287&all_products%5B%5D=1287]


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"image_id"=>"1290", "all_products"=>[#<Product:0x..fdb297d26 @name="Product_1287">, #<Product:0x..fdb297d26 @name="Product_1287">], "action"=>"reorder", "controller"=>"image_products"}
Redirected to http://test.host/images/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1290/products/reorder?all_products%5B%5D=1287&all_products%5B%5D=1287]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'A valid category name' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('A valid category name', 1, '2009-11-18 20:20:25', '2009-11-18 20:20:25', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (1.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#index (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1292", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 6ms (View: 0, DB: 4) | 200 OK [http://test.host/categories/1292/products]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1295}, "category_id"=>"1296", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1296/products?product%5Bid%5D=1295]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1299", "category_id"=>"1300", "controller"=>"category_products"}
Redirected to http://test.host/categories/1300/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1300/products/1299]


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1299", "category_id"=>"1300", "controller"=>"category_products"}
Redirected to http://test.host/categories/1300/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1300/products/1299]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"selected_ids"=>[1303, 1303], "action"=>"remove", "category_id"=>"1304", "controller"=>"category_products"}
Redirected to http://test.host/categories/1304/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1304/products/remove?selected_ids%5B%5D=1303&selected_ids%5B%5D=1303]


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"selected_ids"=>[1303, 1303], "action"=>"remove", "category_id"=>"1304", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1304/products/remove?selected_ids%5B%5D=1303&selected_ids%5B%5D=1303]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb1cf2c2 @name="Product_1307">, #<Product:0x..fdb1cf2c2 @name="Product_1307">], "action"=>"reorder", "category_id"=>"1308", "controller"=>"category_products"}
Redirected to http://test.host/categories/1308/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1308/products/reorder?all_products%5B%5D=1307&all_products%5B%5D=1307]


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb1cf2c2 @name="Product_1307">, #<Product:0x..fdb1cf2c2 @name="Product_1307">], "action"=>"reorder", "category_id"=>"1308", "controller"=>"category_products"}
Redirected to http://test.host/categories/1308/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1308/products/reorder?all_products%5B%5D=1307&all_products%5B%5D=1307]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"index", "bug_id"=>"1312", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1312/comments]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1313", "bug_id"=>"1314", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/show
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1314/comments/1313]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"new", "bug_id"=>"1316", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1316/comments/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"edit", "id"=>"1317", "bug_id"=>"1318", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1318/comments/1317/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"selected_ids"=>[1321, 1321], "action"=>"remove", "bug_id"=>"1322", "controller"=>"comments"}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"remove", "bug_id"=>"1322", "controller"=>"comments", "all_comments"=>[1321, 1321]}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"selected_ids"=>[1321, 1321], "action"=>"remove", "bug_id"=>"1322", "controller"=>"comments"}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"remove", "bug_id"=>"1322", "controller"=>"comments", "all_comments"=>[1321, 1321]}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"selected_ids"=>[1323, 1323], "action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments"}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments", "all_comments"=>[1323, 1323]}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"selected_ids"=>[1323, 1323], "action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments"}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments", "all_comments"=>[1323, 1323]}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "bug_id"=>"1326", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1326/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "bug_id"=>"1326", "controller"=>"comments"}
Redirected to http://test.host/bugs/1326
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/bugs/1326/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-18 20:20:25) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1327", "bug_id"=>"1328", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1328/comments/1327?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-18 20:20:25) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1327", "bug_id"=>"1328", "controller"=>"comments"}
Redirected to http://test.host/bugs/1328
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1328/comments/1327?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#index (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#show (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1330", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1330]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#new (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#edit (for 0.0.0.0 at 2009-11-18 20:20:25) [GET]
  Parameters: {"action"=>"edit", "id"=>"1332", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1332/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1333", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1333]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-18 20:20:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1334", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1334]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"selected_ids"=>[1335, 1335], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1335, 1335]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"selected_ids"=>[1335, 1335], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1335, 1335]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-18 20:20:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/bugs
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-18 20:20:25) [PUT]
  Parameters: {"action"=>"update", "id"=>"1338", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs/1338
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1338?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-18 20:20:25) [PUT]
  Parameters: {"action"=>"update", "id"=>"1339", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/bugs
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1339?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.2ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:20:27', 'Acme products dont appear', '2009-11-18 20:20:27', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (4.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:20:27', 'Acme products dont appear', '2009-11-18 20:20:27', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:20:27', 'Acme products dont appear', '2009-11-18 20:20:27', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-18 20:20:27', 'Beers costs more', '2009-11-18 20:20:27', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (4,5)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:20:27', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 4) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:20:27', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 5) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-18 20:20:27', 'Acme products dont appear', '2009-11-18 20:20:27', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-18 20:20:27', 'Beers costs more', '2009-11-18 20:20:27', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:20:27', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:20:27', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:20:27', `position` = 2 WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-18 20:20:27', `position` = 1 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mCategory Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:20:27', '2009-11-18 20:20:27', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:20:27', '2009-11-18 20:20:27', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 1' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 1', 1, '2009-11-18 20:20:27', '2009-11-18 20:20:27', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 2' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 2', 2, '2009-11-18 20:20:27', '2009-11-18 20:20:27', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (4,5)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.2ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 4) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 4) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 4) ORDER BY position[0m
  [4;35;1mCategory Update (0.2ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:27', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 5) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 5) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 5) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:27', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:20:28', '2009-11-18 20:20:28', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:28', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:28', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:28', `position` = 3 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:28', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id = 8) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 8, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 8) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:20:28', 'image/jpeg', NULL, '2009-11-18 20:20:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 1 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:28', 'image/jpeg', 'thumb', '2009-11-18 20:20:28', 1, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:20:28', 'image/jpeg', NULL, '2009-11-18 20:20:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 3 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:28', 'image/jpeg', 'thumb', '2009-11-18 20:20:28', 3, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:20:28', '2009-11-18 20:20:28', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_images`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`category_id` = 10 AND `category_images`.`image_id` IN (3,1)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 1[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 2[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:20:28', 0, '2009-11-18 20:20:28', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:20:28', 0, '2009-11-18 20:20:28', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:20:28', '2009-11-18 20:20:28', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-18 20:20:28', 2, '2009-11-18 20:20:28', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-18 20:20:28', 3, '2009-11-18 20:20:28', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:28', `position` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:28', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` IN (3,2) AND `category_products`.`category_id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-18 20:20:28', 2, '2009-11-18 20:20:28', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-18 20:20:28', 3, '2009-11-18 20:20:28', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 1, NULL, 'Acme products dont appear')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 1, NULL, 'Beers costs more')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 1) [0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 2) [0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 1, NULL, 'Beers costs more')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-18 20:20:28', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-18 20:20:28', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-18 20:20:28', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-18 20:20:28', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:20:28', 'image/jpeg', NULL, '2009-11-18 20:20:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 5 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:28', 'image/jpeg', 'thumb', '2009-11-18 20:20:28', 5, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:20:28', 'image/jpeg', NULL, '2009-11-18 20:20:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 7 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:28', 'image/jpeg', 'thumb', '2009-11-18 20:20:28', 7, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` WHERE (`images`.`parent_id` IS NULL) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (5,7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 5) ORDER BY position[0m
  [4;35;1mImageCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 5) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position, position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 6) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 6) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 6) ORDER BY position, position[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 5 AND position > 1) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 6[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 7) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 7) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position, position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 8) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 8) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 8) ORDER BY position, position[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 7 AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 8[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 8[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = NULL WHERE `id` = 7[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` ORDER BY position[0m
  [4;35;1mSQL (4.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:20:28', 'image/jpeg', NULL, '2009-11-18 20:20:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 9 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:28', 'image/jpeg', 'thumb', '2009-11-18 20:20:28', 9, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-3' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:20:28', 'image/jpeg', NULL, '2009-11-18 20:20:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 11 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-3' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:28', 'image/jpeg', 'thumb', '2009-11-18 20:20:28', 11, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = 2 WHERE `id` = 9[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = 1 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = 2 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:28', `position` = 1 WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-4' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:20:28', 'image/jpeg', NULL, '2009-11-18 20:20:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 13 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-4' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 13) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:28', 'image/jpeg', 'thumb', '2009-11-18 20:20:28', 13, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-5' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:20:28', 'image/jpeg', NULL, '2009-11-18 20:20:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 15 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-5' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 15) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:28', 'image/jpeg', 'thumb', '2009-11-18 20:20:28', 15, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:20:28', '2009-11-18 20:20:28', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:20:28', '2009-11-18 20:20:28', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:28', `position` = 2 WHERE `id` = 14[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:28', `position` = 1 WHERE `id` = 15[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.`category_id` IN (15,14)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:20:28', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:20:28', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-18 20:20:28', '2009-11-18 20:20:28', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:20:28', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-18 20:20:28', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-6' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:20:29', 'image/jpeg', NULL, '2009-11-18 20:20:29', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 17 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-6' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 17) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:29', 'image/jpeg', 'thumb', '2009-11-18 20:20:29', 17, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:20:29', 'image/jpeg', NULL, '2009-11-18 20:20:29', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 19 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 19) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:29', 'image/jpeg', 'thumb', '2009-11-18 20:20:29', 19, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-18 20:20:29', 4, '2009-11-18 20:20:29', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-18 20:20:29', 5, '2009-11-18 20:20:29', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` IN (5,4) AND `product_images`.`image_id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-18 20:20:29', 4, '2009-11-18 20:20:29', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-18 20:20:29', 5, '2009-11-18 20:20:29', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme', 1, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers', 2, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` IN (8,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 8) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 8) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.2ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 8) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 9[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 9) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 9) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 9) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme products dont appear', 1, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers costs more', 2, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-18 20:20:29', '2009-11-18 20:20:29', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-18 20:20:29', '2009-11-18 20:20:29', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mProductCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_products`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-18 20:20:29', 12, '2009-11-18 20:20:29', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-18 20:20:29', 12, '2009-11-18 20:20:29', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 16[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 17[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.`category_id` IN (17,16)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:20:29', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:20:29', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-18 20:20:29', 12, '2009-11-18 20:20:29', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-18 20:20:29', 12, '2009-11-18 20:20:29', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:20:29', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-18 20:20:29', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-18 20:20:29', 'image/jpeg', NULL, '2009-11-18 20:20:29', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 21 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 21) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:29', 'image/jpeg', 'thumb', '2009-11-18 20:20:29', 21, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.2ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-18 20:20:29', 'image/jpeg', NULL, '2009-11-18 20:20:29', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 23 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri14369-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 23) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-18 20:20:29', 'image/jpeg', 'thumb', '2009-11-18 20:20:29', 23, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-18 20:20:29', 14, '2009-11-18 20:20:29', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-18 20:20:29', 14, '2009-11-18 20:20:29', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 21[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 23[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.`image_id` IN (23,21)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:20:29', `product_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:20:29', `product_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-18 20:20:29', 14, '2009-11-18 20:20:29', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-18 20:20:29', 14, '2009-11-18 20:20:29', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (7,8)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:20:29', `product_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-18 20:20:29', `product_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;36;1mSQL (11.3ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSupplier Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `suppliers`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProductSupplier Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-18 20:20:29', 16, '2009-11-18 20:20:29', 1, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-18 20:20:29', 16, '2009-11-18 20:20:29', 2, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` IN (2,1) AND `supplier_products`.`product_id` = 16) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:20:29', `supplier_position` = NULL WHERE `id` = 1[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:20:29', `supplier_position` = NULL WHERE `id` = 2[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-18 20:20:29', 16, '2009-11-18 20:20:29', 1, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-18 20:20:29', 16, '2009-11-18 20:20:29', 2, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (3,4)) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:20:29', `supplier_position` = NULL WHERE `id` = 3[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:20:29', `supplier_position` = NULL WHERE `id` = 4[0m
  [4;36;1mProductSupplier Destroy (0.2ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 'a random blurb', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 'yet more blurm', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mRole Destroy (0.1ms)[0m   [0mDELETE FROM `roles` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mRole Destroy (0.1ms)[0m   [0;1mDELETE FROM `roles` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 'a random blurb', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 'yet more blurm', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 3) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 4) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-18 20:20:29', 0, '2009-11-18 20:20:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-18 20:20:29', '2009-11-18 20:20:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-18 20:20:29', 18, '2009-11-18 20:20:29', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-18 20:20:29', 19, '2009-11-18 20:20:29', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = 2 WHERE `id` = 18[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-18 20:20:29', `position` = 1 WHERE `id` = 19[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 7 AND `supplier_products`.`product_id` IN (19,18)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-18 20:20:29', 18, '2009-11-18 20:20:29', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-18 20:20:29', 19, '2009-11-18 20:20:29', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (7,8)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 7[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-18 20:20:29', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#index (for 0.0.0.0 at 2009-11-19 04:59:23) [GET]
  Parameters: {"action"=>"index", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/categories]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#show (for 0.0.0.0 at 2009-11-19 04:59:23) [GET]
  Parameters: {"action"=>"show", "id"=>"1005", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1005]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#new (for 0.0.0.0 at 2009-11-19 04:59:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#edit (for 0.0.0.0 at 2009-11-19 04:59:23) [GET]
  Parameters: {"action"=>"edit", "id"=>"1011", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1011/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]


Processing CategoriesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1014", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1014]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"selected_ids"=>[1017, 1017], "action"=>"remove", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]


Processing CategoriesController#remove (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"action"=>"remove", "category_ids"=>[1017, 1017], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/remove?selected_ids%5B%5D=1017&selected_ids%5B%5D=1017]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"selected_ids"=>[1020, 1020], "action"=>"reorder", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]


Processing CategoriesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"action"=>"reorder", "all_categories"=>[1020, 1020], "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/reorder?selected_ids%5B%5D=1020&selected_ids%5B%5D=1020]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]


Processing CategoriesController#create (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"category"=>{"name"=>"A valid category name", "parent"=>nil, "description"=>"A valid category description"}, "action"=>"create", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories?category%5Bdescription%5D=A+valid+category+description&category%5Bname%5D=A+valid+category+name&category%5Bparent%5D=]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-19 04:59:23) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Rendering template within layouts/categories
Rendering categories/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]


Processing CategoriesController#update (for 0.0.0.0 at 2009-11-19 04:59:23) [PUT]
  Parameters: {"category"=>{"name"=>"A new valid category name", "parent"=>1, "id"=>1026, "description"=>"A new valid category description"}, "action"=>"update", "id"=>"1026", "controller"=>"categories"}
Redirected to http://test.host/categories
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/categories/1026?category%5Bdescription%5D=A+new+valid+category+description&category%5Bid%5D=1026&category%5Bname%5D=A+new+valid+category+name&category%5Bparent%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#index (for 0.0.0.0 at 2009-11-19 04:59:23) [GET]
  Parameters: {"product_id"=>"1028", "action"=>"index", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1028/suppliers]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#create (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"product_id"=>"1033", "supplier"=>{"id"=>1037}, "action"=>"create", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1033/suppliers?supplier%5Bid%5D=1037]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]


Processing ProductSuppliersController#destroy (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"product_id"=>"1038", "action"=>"destroy", "id"=>"1042", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1038/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1038/suppliers/1042]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1043/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]


Processing ProductSuppliersController#remove (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"selected_ids"=>[1047, 1047], "product_id"=>"1043", "action"=>"remove", "controller"=>"product_suppliers"}
Rendering template within layouts/suppliers
Rendering product_suppliers/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1043/suppliers/remove?selected_ids%5B%5D=1047&selected_ids%5B%5D=1047]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb2d9a82 @name="Supplier_1052">, #<Supplier:0x..fdb2d9a82 @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]


Processing ProductSuppliersController#reorder (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"product_id"=>"1048", "all_suppliers"=>[#<Supplier:0x..fdb2d9a82 @name="Supplier_1052">, #<Supplier:0x..fdb2d9a82 @name="Supplier_1052">], "action"=>"reorder", "controller"=>"product_suppliers"}
Redirected to http://test.host/products/1048/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1048/suppliers/reorder?all_suppliers%5B%5D=1052&all_suppliers%5B%5D=1052]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#index (for 0.0.0.0 at 2009-11-19 04:59:23) [GET]
  Parameters: {"action"=>"index", "supplier_id"=>"1054", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1054/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#create (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1057}, "supplier_id"=>"1058", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1058/products?product%5Bid%5D=1057]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]


Processing SupplierProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1061", "supplier_id"=>"1062", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1062/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1062/products/1061]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1066/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]


Processing SupplierProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:23) [DELETE]
  Parameters: {"selected_ids"=>[1065, 1065], "action"=>"remove", "supplier_id"=>"1066", "controller"=>"supplier_products"}
Rendering template within layouts/products
Rendering supplier_products/index
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1066/products/remove?selected_ids%5B%5D=1065&selected_ids%5B%5D=1065]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb24bc00 @name="Product_1069">, #<Product:0x..fdb24bc00 @name="Product_1069">], "action"=>"reorder", "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]


Processing SupplierProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:23) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb24bc00 @name="Product_1069">, #<Product:0x..fdb24bc00 @name="Product_1069">], "action"=>"reorder", "supplier_id"=>"1070", "controller"=>"supplier_products"}
Redirected to http://test.host/suppliers/1070/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1070/products/reorder?all_products%5B%5D=1069&all_products%5B%5D=1069]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mProduct Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `products`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'value for name') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('value for name', 1, '2009-11-19 04:59:23', 0, '2009-11-19 04:59:23', 0, 6, 'empty', 'empty', 'value for description', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (6.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#index (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1074", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 6ms (View: 0, DB: 8) | 200 OK [http://test.host/categories/1074/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"action"=>"create", "category_id"=>"1078", "controller"=>"category_images", "image"=>{"id"=>1080}}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1078/images?image%5Bid%5D=1080]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1084", "category_id"=>"1082", "controller"=>"category_images"}
Redirected to http://test.host/categories/1082/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1082/images/1084]


Processing CategoryImagesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1084", "category_id"=>"1082", "controller"=>"category_images"}
Redirected to http://test.host/categories/1082/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1082/images/1084]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"selected_ids"=>[1088, 1088], "action"=>"remove", "category_id"=>"1086", "controller"=>"category_images"}
Redirected to http://test.host/categories/1086/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1086/images/remove?selected_ids%5B%5D=1088&selected_ids%5B%5D=1088]


Processing CategoryImagesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"selected_ids"=>[1088, 1088], "action"=>"remove", "category_id"=>"1086", "controller"=>"category_images"}
Rendering template within layouts/images
Rendering category_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1086/images/remove?selected_ids%5B%5D=1088&selected_ids%5B%5D=1088]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1e0e50 @name="Image_1092">, #<Image:0x..fdb1e0e50 @name="Image_1092">], "action"=>"reorder", "category_id"=>"1090", "controller"=>"category_images"}
Redirected to http://test.host/categories/1090/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1090/images/reorder?all_images%5B%5D=1092&all_images%5B%5D=1092]


Processing CategoryImagesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"all_images"=>[#<Image:0x..fdb1e0e50 @name="Image_1092">, #<Image:0x..fdb1e0e50 @name="Image_1092">], "action"=>"reorder", "category_id"=>"1090", "controller"=>"category_images"}
Redirected to http://test.host/categories/1090/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1090/images/reorder?all_images%5B%5D=1092&all_images%5B%5D=1092]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#index (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"product_id"=>"1093", "action"=>"index", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1093/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"product_id"=>"1098", "action"=>"create", "controller"=>"product_images", "image"=>{"id"=>1101}}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1098/images?image%5Bid%5D=1101]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"product_id"=>"1103", "action"=>"destroy", "id"=>"1106", "controller"=>"product_images"}
Redirected to http://test.host/products/1103/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1103/images/1106]


Processing ProductImagesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"product_id"=>"1103", "action"=>"destroy", "id"=>"1106", "controller"=>"product_images"}
Redirected to http://test.host/products/1103/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1103/images/1106]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"selected_ids"=>[1111, 1111], "product_id"=>"1108", "action"=>"remove", "controller"=>"product_images"}
Redirected to http://test.host/products/1108/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1108/images/remove?selected_ids%5B%5D=1111&selected_ids%5B%5D=1111]


Processing ProductImagesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"selected_ids"=>[1111, 1111], "product_id"=>"1108", "action"=>"remove", "controller"=>"product_images"}
Rendering template within layouts/images
Rendering product_images/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1108/images/remove?selected_ids%5B%5D=1111&selected_ids%5B%5D=1111]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"product_id"=>"1113", "all_images"=>[#<Image:0x..fdb178a08 @name="Image_1116">, #<Image:0x..fdb178a08 @name="Image_1116">], "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1113/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1113/images/reorder?all_images%5B%5D=1116&all_images%5B%5D=1116]


Processing ProductImagesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"product_id"=>"1113", "all_images"=>[#<Image:0x..fdb178a08 @name="Image_1116">, #<Image:0x..fdb178a08 @name="Image_1116">], "action"=>"reorder", "controller"=>"product_images"}
Redirected to http://test.host/products/1113/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1113/images/reorder?all_images%5B%5D=1116&all_images%5B%5D=1116]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#index (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"image_id"=>"1121", "action"=>"index", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1121/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"image_id"=>"1125", "category"=>{"id"=>1123}, "action"=>"create", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1125/categories?category%5Bid%5D=1123]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"image_id"=>"1129", "action"=>"destroy", "id"=>"1127", "controller"=>"image_categories"}
Redirected to http://test.host/images/1129/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1129/categories/1127]


Processing ImageCategoriesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"image_id"=>"1129", "action"=>"destroy", "id"=>"1127", "controller"=>"image_categories"}
Redirected to http://test.host/images/1129/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1129/categories/1127]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"image_id"=>"1133", "selected_ids"=>[1131, 1131], "action"=>"remove", "controller"=>"image_categories"}
Redirected to http://test.host/images/1133/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1133/categories/remove?selected_ids%5B%5D=1131&selected_ids%5B%5D=1131]


Processing ImageCategoriesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"image_id"=>"1133", "selected_ids"=>[1131, 1131], "action"=>"remove", "controller"=>"image_categories"}
Rendering template within layouts/categories
Rendering image_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1133/categories/remove?selected_ids%5B%5D=1131&selected_ids%5B%5D=1131]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"image_id"=>"1137", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb120e5c @name="Category_1135">, #<Category:0x..fdb120e5c @name="Category_1135">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1137/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1137/categories/reorder?all_categories%5B%5D=1135&all_categories%5B%5D=1135]


Processing ImageCategoriesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"image_id"=>"1137", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb120e5c @name="Category_1135">, #<Category:0x..fdb120e5c @name="Category_1135">], "controller"=>"image_categories"}
Redirected to http://test.host/images/1137/categories
Completed in 68ms (DB: 0) | 302 Found [http://test.host/images/1137/categories/reorder?all_categories%5B%5D=1135&all_categories%5B%5D=1135]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#index (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#show (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1140", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1140]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#new (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#edit (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"edit", "id"=>"1144", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1144/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]


Processing SuppliersController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1146", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/1146]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1148, 1148], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1148, 1148]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1148, 1148], "action"=>"remove", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]


Processing SuppliersController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"action"=>"remove", "controller"=>"suppliers", "supplier_ids"=>[1148, 1148]}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/remove?selected_ids%5B%5D=1148&selected_ids%5B%5D=1148]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"all_suppliers"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]


Processing SuppliersController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"all_suppliers"=>[1150, 1150], "action"=>"reorder", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (DB: 0) | 302 Found [http://test.host/suppliers/reorder?selected_ids%5B%5D=1150&selected_ids%5B%5D=1150]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"supplier"=>{"position"=>"1", "name"=>"Random Supplier", "account"=>12345, "bank_name"=>"A random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A random supplier description", "email"=>"foo@bar.com"}, "action"=>"create", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+random+bank&supplier%5Bdescription%5D=A+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=Random+Supplier&supplier%5Bposition%5D=1&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-19 04:59:24) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1154", "controller"=>"suppliers"}
Rendering template within layouts/suppliers
Rendering suppliers/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/suppliers/1154?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]


Processing SuppliersController#update (for 0.0.0.0 at 2009-11-19 04:59:24) [PUT]
  Parameters: {"supplier"=>{"position"=>"2", "name"=>"New Random Supplier", "account"=>12345, "bank_name"=>"A new random bank", "sort_code"=>12345, "dialing_code"=>123456, "telephone"=>123344, "description"=>"A new random supplier description", "email"=>"foo@bar.com"}, "action"=>"update", "id"=>"1154", "controller"=>"suppliers"}
Redirected to http://test.host/suppliers
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/suppliers/1154?supplier%5Baccount%5D=12345&supplier%5Bbank_name%5D=A+new+random+bank&supplier%5Bdescription%5D=A+new+random+supplier+description&supplier%5Bdialing_code%5D=123456&supplier%5Bemail%5D=foo%40bar.com&supplier%5Bname%5D=New+Random+Supplier&supplier%5Bposition%5D=2&supplier%5Bsort_code%5D=12345&supplier%5Btelephone%5D=123344]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#index (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#show (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1160", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1160]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#new (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#edit (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"edit", "id"=>"1168", "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1168/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]


Processing ProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1172", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1172]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"product_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]


Processing ProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"product_ids"=>[1176, 1176], "action"=>"remove", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/remove?selected_ids%5B%5D=1176&selected_ids%5B%5D=1176]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"all_products"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]


Processing ProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"all_products"=>[1180, 1180], "action"=>"reorder", "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/reorder?selected_ids%5B%5D=1180&selected_ids%5B%5D=1180]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]


Processing ProductsController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"action"=>"create", "product"=>{"name"=>"A valid product name", "description"=>"A valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products?product%5Bdescription%5D=A+valid+product+description&product%5Bname%5D=A+valid+product+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductsController#update (for 0.0.0.0 at 2009-11-19 04:59:24) [PUT]
  Parameters: {"action"=>"update", "id"=>"1188", "product"=>{"name"=>"A new valid category name", "id"=>1188, "description"=>"A new valid product description"}, "controller"=>"products"}
Rendering template within layouts/products
Rendering products/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1188?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1188&product%5Bname%5D=A+new+valid+category+name]


Processing ProductsController#update (for 0.0.0.0 at 2009-11-19 04:59:24) [PUT]
  Parameters: {"action"=>"update", "id"=>"1188", "product"=>{"name"=>"A new valid category name", "id"=>1188, "description"=>"A new valid product description"}, "controller"=>"products"}
Redirected to http://test.host/products
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/products/1188?product%5Bdescription%5D=A+new+valid+product+description&product%5Bid%5D=1188&product%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#index (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/roles]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#show (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1195", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1195]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#new (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#edit (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"edit", "id"=>"1201", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1201/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]


Processing RolesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1204", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/1204]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1207, 1207], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1207&role_ids%5B%5D=1207]


Processing RolesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"remove", "role_ids"=>[1207, 1207], "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/remove?role_ids%5B%5D=1207&role_ids%5B%5D=1207]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"all_roles"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"selected_ids"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]


Processing RolesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"all_roles"=>[1210, 1210], "action"=>"reorder", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (DB: 0) | 302 Found [http://test.host/roles/reorder?selected_ids%5B%5D=1210&selected_ids%5B%5D=1210]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]


Processing RolesController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"action"=>"create", "role"=>{"name"=>"A valid role name", "description"=>"A valid role description"}, "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles?role%5Bdescription%5D=A+valid+role+description&role%5Bname%5D=A+valid+role+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing RolesController#update (for 0.0.0.0 at 2009-11-19 04:59:24) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1216", "controller"=>"roles"}
Rendering template within layouts/roles
Rendering roles/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/roles/1216?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]


Processing RolesController#update (for 0.0.0.0 at 2009-11-19 04:59:24) [PUT]
  Parameters: {"action"=>"update", "role"=>{"name"=>"A new valid category name", "description"=>"A new valid role description"}, "id"=>"1216", "controller"=>"roles"}
Redirected to http://test.host/roles
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/roles/1216?role%5Bdescription%5D=A+new+valid+role+description&role%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#index (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"product_id"=>"1219", "action"=>"index", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1219/categories]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#create (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"category"=>{"id"=>1225}, "product_id"=>"1224", "action"=>"create", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1224/categories?category%5Bid%5D=1225]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"product_id"=>"1229", "action"=>"destroy", "id"=>"1230", "controller"=>"product_categories"}
Redirected to http://test.host/products/1229/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1229/categories/1230]


Processing ProductCategoriesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"product_id"=>"1229", "action"=>"destroy", "id"=>"1230", "controller"=>"product_categories"}
Redirected to http://test.host/products/1229/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1229/categories/1230]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"selected_ids"=>[1235, 1235], "product_id"=>"1234", "action"=>"remove", "controller"=>"product_categories"}
Redirected to http://test.host/products/1234/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1234/categories/remove?selected_ids%5B%5D=1235&selected_ids%5B%5D=1235]


Processing ProductCategoriesController#remove (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"selected_ids"=>[1235, 1235], "product_id"=>"1234", "action"=>"remove", "controller"=>"product_categories"}
Rendering template within layouts/categories
Rendering product_categories/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/products/1234/categories/remove?selected_ids%5B%5D=1235&selected_ids%5B%5D=1235]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"product_id"=>"1239", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb20a84a @name="Category_1240">, #<Category:0x..fdb20a84a @name="Category_1240">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1239/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1239/categories/reorder?all_categories%5B%5D=1240&all_categories%5B%5D=1240]


Processing ProductCategoriesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:24) [POST]
  Parameters: {"product_id"=>"1239", "action"=>"reorder", "all_categories"=>[#<Category:0x..fdb20a84a @name="Category_1240">, #<Category:0x..fdb20a84a @name="Category_1240">], "controller"=>"product_categories"}
Redirected to http://test.host/products/1239/categories
Completed in 1ms (DB: 0) | 302 Found [http://test.host/products/1239/categories/reorder?all_categories%5B%5D=1240&all_categories%5B%5D=1240]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'A valid bug title') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-19 04:59:24', 'A valid bug title', '2009-11-19 04:59:24', 1, 'A valid bug description', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#index (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/index
Completed in 6ms (View: 0, DB: 3) | 200 OK [http://test.host/images]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#show (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"show", "id"=>"1247", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1247]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#new (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#edit (for 0.0.0.0 at 2009-11-19 04:59:24) [GET]
  Parameters: {"action"=>"edit", "id"=>"1253", "controller"=>"images"}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1253/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]


Processing ImagesController#destroy (for 0.0.0.0 at 2009-11-19 04:59:24) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1256", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1256]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"selected_ids"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"all_images"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"selected_ids"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 3ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]


Processing ImagesController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"all_images"=>[1259, 1259], "action"=>"remove", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/remove?selected_ids%5B%5D=1259&selected_ids%5B%5D=1259]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"selected_ids"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"all_images"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"selected_ids"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]


Processing ImagesController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"all_images"=>[1262, 1262], "action"=>"reorder", "controller"=>"images"}
Redirected to http://test.host/images
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/reorder?selected_ids%5B%5D=1262&selected_ids%5B%5D=1262]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#create (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Rendering template within layouts/images
Rendering images/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]


Processing ImagesController#create (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"images", "image"=>{"name"=>"A valid image name", "description"=>"A valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images?image%5Bdescription%5D=A+valid+image+description&image%5Bname%5D=A+valid+image+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImagesController#update (for 0.0.0.0 at 2009-11-19 04:59:25) [PUT]
  Parameters: {"action"=>"update", "id"=>"1268", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Rendering template within layouts/images
Rendering images/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1268?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]


Processing ImagesController#update (for 0.0.0.0 at 2009-11-19 04:59:25) [PUT]
  Parameters: {"action"=>"update", "id"=>"1268", "controller"=>"images", "image"=>{"name"=>"A new valid category name", "description"=>"A new valid image description"}}
Redirected to http://test.host/images
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/images/1268?image%5Bdescription%5D=A+new+valid+image+description&image%5Bname%5D=A+new+valid+category+name]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#index (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"image_id"=>"1274", "action"=>"index", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 6ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1274/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#create (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"image_id"=>"1278", "action"=>"create", "product"=>{"id"=>1275}, "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/images/1278/products?product%5Bid%5D=1275]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"image_id"=>"1282", "action"=>"destroy", "id"=>"1279", "controller"=>"image_products"}
Redirected to http://test.host/images/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1282/products/1279]


Processing ImageProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"image_id"=>"1282", "action"=>"destroy", "id"=>"1279", "controller"=>"image_products"}
Redirected to http://test.host/images/1282/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1282/products/1279]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"image_id"=>"1286", "selected_ids"=>[1283, 1283], "action"=>"remove", "controller"=>"image_products"}
Redirected to http://test.host/images/1286/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1286/products/remove?selected_ids%5B%5D=1283&selected_ids%5B%5D=1283]


Processing ImageProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"image_id"=>"1286", "selected_ids"=>[1283, 1283], "action"=>"remove", "controller"=>"image_products"}
Rendering template within layouts/products
Rendering image_products/index
Completed in 70ms (View: 12, DB: 0) | 200 OK [http://test.host/images/1286/products/remove?selected_ids%5B%5D=1283&selected_ids%5B%5D=1283]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"image_id"=>"1290", "all_products"=>[#<Product:0x..fdb2d94a6 @name="Product_1287">, #<Product:0x..fdb2d94a6 @name="Product_1287">], "action"=>"reorder", "controller"=>"image_products"}
Redirected to http://test.host/images/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1290/products/reorder?all_products%5B%5D=1287&all_products%5B%5D=1287]


Processing ImageProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"image_id"=>"1290", "all_products"=>[#<Product:0x..fdb2d94a6 @name="Product_1287">, #<Product:0x..fdb2d94a6 @name="Product_1287">], "action"=>"reorder", "controller"=>"image_products"}
Redirected to http://test.host/images/1290/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/images/1290/products/reorder?all_products%5B%5D=1287&all_products%5B%5D=1287]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `categories`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'A valid category name' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('A valid category name', 1, '2009-11-19 04:59:25', '2009-11-19 04:59:25', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (2.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#index (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"action"=>"index", "category_id"=>"1292", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 6ms (View: 0, DB: 4) | 200 OK [http://test.host/categories/1292/products]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#create (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"action"=>"create", "product"=>{"id"=>1295}, "category_id"=>"1296", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1296/products?product%5Bid%5D=1295]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1299", "category_id"=>"1300", "controller"=>"category_products"}
Redirected to http://test.host/categories/1300/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1300/products/1299]


Processing CategoryProductsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1299", "category_id"=>"1300", "controller"=>"category_products"}
Redirected to http://test.host/categories/1300/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1300/products/1299]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"selected_ids"=>[1303, 1303], "action"=>"remove", "category_id"=>"1304", "controller"=>"category_products"}
Redirected to http://test.host/categories/1304/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1304/products/remove?selected_ids%5B%5D=1303&selected_ids%5B%5D=1303]


Processing CategoryProductsController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"selected_ids"=>[1303, 1303], "action"=>"remove", "category_id"=>"1304", "controller"=>"category_products"}
Rendering template within layouts/products
Rendering category_products/index
Completed in 2ms (View: 0, DB: 0) | 200 OK [http://test.host/categories/1304/products/remove?selected_ids%5B%5D=1303&selected_ids%5B%5D=1303]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb210b28 @name="Product_1307">, #<Product:0x..fdb210b28 @name="Product_1307">], "action"=>"reorder", "category_id"=>"1308", "controller"=>"category_products"}
Redirected to http://test.host/categories/1308/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1308/products/reorder?all_products%5B%5D=1307&all_products%5B%5D=1307]


Processing CategoryProductsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"all_products"=>[#<Product:0x..fdb210b28 @name="Product_1307">, #<Product:0x..fdb210b28 @name="Product_1307">], "action"=>"reorder", "category_id"=>"1308", "controller"=>"category_products"}
Redirected to http://test.host/categories/1308/products
Completed in 1ms (DB: 0) | 302 Found [http://test.host/categories/1308/products/reorder?all_products%5B%5D=1307&all_products%5B%5D=1307]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#index (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"action"=>"index", "bug_id"=>"1312", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1312/comments]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#show (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1313", "bug_id"=>"1314", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/show
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1314/comments/1313]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#new (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"action"=>"new", "bug_id"=>"1316", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1316/comments/new]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#edit (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"action"=>"edit", "id"=>"1317", "bug_id"=>"1318", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1318/comments/1317/edit]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]


Processing CommentsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1319", "bug_id"=>"1320", "controller"=>"comments"}
Redirected to http://test.host/bugs/1320/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1320/comments/1319]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"selected_ids"=>[1321, 1321], "action"=>"remove", "bug_id"=>"1322", "controller"=>"comments"}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"remove", "bug_id"=>"1322", "controller"=>"comments", "all_comments"=>[1321, 1321]}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"selected_ids"=>[1321, 1321], "action"=>"remove", "bug_id"=>"1322", "controller"=>"comments"}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]


Processing CommentsController#remove (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"remove", "bug_id"=>"1322", "controller"=>"comments", "all_comments"=>[1321, 1321]}
Redirected to http://test.host/bugs/1322/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1322/comments/remove?selected_ids%5B%5D=1321&selected_ids%5B%5D=1321]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"selected_ids"=>[1323, 1323], "action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments"}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments", "all_comments"=>[1323, 1323]}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"selected_ids"=>[1323, 1323], "action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments"}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]


Processing CommentsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"action"=>"reorder", "bug_id"=>"1324", "controller"=>"comments", "all_comments"=>[1323, 1323]}
Redirected to http://test.host/bugs/1324/comments
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1324/comments/reorder?selected_ids%5B%5D=1323&selected_ids%5B%5D=1323]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#create (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "bug_id"=>"1326", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1326/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]


Processing CommentsController#create (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"comment"=>{"name"=>"A valid comment name", "user_id"=>1, "description"=>"A valid comment description"}, "action"=>"create", "bug_id"=>"1326", "controller"=>"comments"}
Redirected to http://test.host/bugs/1326
Completed in 1ms (View: 0, DB: 0) | 302 Found [http://test.host/bugs/1326/comments?comment%5Bdescription%5D=A+valid+comment+description&comment%5Bname%5D=A+valid+comment+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing CommentsController#update (for 0.0.0.0 at 2009-11-19 04:59:25) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1327", "bug_id"=>"1328", "controller"=>"comments"}
Rendering template within layouts/bugs
Rendering comments/edit
Completed in 2ms (View: 1, DB: 0) | 200 OK [http://test.host/bugs/1328/comments/1327?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]


Processing CommentsController#update (for 0.0.0.0 at 2009-11-19 04:59:25) [PUT]
  Parameters: {"comment"=>{"name"=>"A new valid category name", "user_id"=>1, "description"=>"A new valid comment description"}, "action"=>"update", "id"=>"1327", "bug_id"=>"1328", "controller"=>"comments"}
Redirected to http://test.host/bugs/1328
Completed in 1ms (View: 1, DB: 0) | 302 Found [http://test.host/bugs/1328/comments/1327?comment%5Bdescription%5D=A+new+valid+comment+description&comment%5Bname%5D=A+new+valid+category+name&comment%5Buser_id%5D=1]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#index (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"action"=>"index", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/index
Completed in 5ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#show (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"action"=>"show", "id"=>"1330", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/show
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1330]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#new (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/new]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#edit (for 0.0.0.0 at 2009-11-19 04:59:25) [GET]
  Parameters: {"action"=>"edit", "id"=>"1332", "controller"=>"bugs"}
Rendering template within layouts/bugs
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1332/edit]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1333", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1333]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#destroy (for 0.0.0.0 at 2009-11-19 04:59:25) [DELETE]
  Parameters: {"action"=>"destroy", "id"=>"1334", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1334]
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"selected_ids"=>[1335, 1335], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1335, 1335]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"selected_ids"=>[1335, 1335], "action"=>"reorder", "controller"=>"bugs"}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]


Processing BugsController#reorder (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"action"=>"reorder", "controller"=>"bugs", "all_bugs"=>[1335, 1335]}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/reorder?selected_ids%5B%5D=1335&selected_ids%5B%5D=1335]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#create (for 0.0.0.0 at 2009-11-19 04:59:25) [POST]
  Parameters: {"action"=>"create", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/bugs
Rendering bugs/new
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-19 04:59:25) [PUT]
  Parameters: {"action"=>"update", "id"=>"1338", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Redirected to http://test.host/bugs/1338
Completed in 1ms (DB: 0) | 302 Found [http://test.host/bugs/1338?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m


Processing BugsController#update (for 0.0.0.0 at 2009-11-19 04:59:25) [PUT]
  Parameters: {"action"=>"update", "id"=>"1339", "controller"=>"bugs", "bug"=>{"title"=>"A new valid bug title", "user_id"=>1, "description"=>"A new valid bug description", "human_title"=>"A new valid bug title"}}
Rendering template within layouts/bugs
Rendering bugs/edit
Completed in 1ms (View: 0, DB: 0) | 200 OK [http://test.host/bugs/1339?bug%5Bdescription%5D=A+new+valid+bug+description&bug%5Bhuman_title%5D=A+new+valid+bug+title&bug%5Btitle%5D=A+new+valid+bug+title&bug%5Buser_id%5D=1]
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBug Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `bugs`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.2ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-19 04:59:27', 'Acme products dont appear', '2009-11-19 04:59:27', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (3.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-19 04:59:27', 'Acme products dont appear', '2009-11-19 04:59:27', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-19 04:59:27', 'Acme products dont appear', '2009-11-19 04:59:27', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-19 04:59:27', 'Beers costs more', '2009-11-19 04:59:27', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (4,5)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-19 04:59:27', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mComment Load (0.2ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 4) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-19 04:59:27', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.bug_id = 5) ORDER BY position[0m
  [4;36;1mBug Destroy (0.1ms)[0m   [0;1mDELETE FROM `bugs` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (0.6ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mBug Create (0.1ms)[0m   [0;1mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(1, '2009-11-19 04:59:27', 'Acme products dont appear', '2009-11-19 04:59:27', 1, 'this is broken', 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT `bugs`.id FROM `bugs` WHERE (`bugs`.`title` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mBug Create (0.1ms)[0m   [0mINSERT INTO `bugs` (`position`, `created_at`, `title`, `updated_at`, `user_id`, `description`, `status`) VALUES(2, '2009-11-19 04:59:27', 'Beers costs more', '2009-11-19 04:59:27', 1, 'this is broken', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-19 04:59:27', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-19 04:59:27', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` WHERE (`bugs`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mBug Update (0.1ms)[0m   [0;1mUPDATE `bugs` SET `updated_at` = '2009-11-19 04:59:27', `position` = 2 WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mBug Update (0.1ms)[0m   [0mUPDATE `bugs` SET `updated_at` = '2009-11-19 04:59:27', `position` = 1 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mBug Load (0.1ms)[0m   [0mSELECT * FROM `bugs` ORDER BY position[0m
  [4;36;1mBug Load (0.1ms)[0m   [0;1mSELECT * FROM `bugs` ORDER BY position[0m
  [4;35;1mSQL (1.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mCategory Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `categories`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-19 04:59:27', '2009-11-19 04:59:27', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-19 04:59:27', '2009-11-19 04:59:27', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 1' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 1', 1, '2009-11-19 04:59:27', '2009-11-19 04:59:27', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Test product 2' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Test product 2', 2, '2009-11-19 04:59:27', '2009-11-19 04:59:27', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (4,5)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.2ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 4) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 4) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 4) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;36;1mCategory Update (0.3ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:27', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategory Destroy (0.2ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.category_id = 5) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.category_id = 5) ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.parent_id = 5) ORDER BY position[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:27', `position` = NULL WHERE `id` = 5[0m
  [4;35;1mCategory Destroy (0.1ms)[0m   [0mDELETE FROM `categories` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-19 04:59:27', '2009-11-19 04:59:27', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-19 04:59:27', '2009-11-19 04:59:27', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:27', `position` = 2 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:27', `position` = 1 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` IN (6,7,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:27', `position` = 3 WHERE `id` = 7[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:27', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mSQL (0.8ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-19 04:59:27', '2009-11-19 04:59:27', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id = 8) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id = 8) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 1, '2009-11-19 04:59:27', '2009-11-19 04:59:27', 8, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 8) ORDER BY position[0m
  [4;35;1mSQL (0.4ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `images`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-19 04:59:27', 'image/jpeg', NULL, '2009-11-19 04:59:27', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 1 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:27', 'image/jpeg', 'thumb', '2009-11-19 04:59:27', 1, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-19 04:59:27', 'image/jpeg', NULL, '2009-11-19 04:59:27', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 3 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 3) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:27', 'image/jpeg', 'thumb', '2009-11-19 04:59:27', 3, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-19 04:59:27', '2009-11-19 04:59:27', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-19 04:59:27', '2009-11-19 04:59:27', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_images`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE (`images`.`id` IN (1,3)) AND ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`category_id` = 10 AND `category_images`.`image_id` IN (3,1)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 1[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 2[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) AND ((`images`.`parent_id` IS NULL) AND ((`category_images`.category_id = 10))) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 1 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryImage Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(1, 1, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 10, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 3 AND `category_images`.category_id = 10) LIMIT 1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (category_id = 10) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryImage Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(3, 2, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 10, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY position[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 1) [0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mCategoryImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Update (0.1ms)[0m   [0mUPDATE `category_images` SET position = (position - 1) WHERE (category_id = 10 AND position > 2) [0m
  [4;36;1mCategoryImage Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 4[0m
  [4;35;1mCategoryImage Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 10) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `category_images` ON `images`.id = `category_images`.image_id WHERE ((`category_images`.category_id = 10)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mProduct Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-19 04:59:28', 0, '2009-11-19 04:59:28', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-19 04:59:28', 0, '2009-11-19 04:59:28', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-19 04:59:28', '2009-11-19 04:59:28', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-19 04:59:28', '2009-11-19 04:59:28', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Columns (0.3ms)[0m   [0;1mSHOW FIELDS FROM `category_products`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-19 04:59:28', 2, '2009-11-19 04:59:28', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-19 04:59:28', 3, '2009-11-19 04:59:28', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE (`products`.`id` IN (2,3)) AND ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:28', `position` = 2 WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:28', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` IN (3,2) AND `category_products`.`category_id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 2) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 2 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategoryProduct Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(1, '2009-11-19 04:59:28', 2, '2009-11-19 04:59:28', 12, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 3) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 3 AND `category_products`.category_id = 12) LIMIT 1[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (category_id = 12) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategoryProduct Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(2, '2009-11-19 04:59:28', 3, '2009-11-19 04:59:28', 12, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 1) [0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mCategoryProduct Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET position = (position - 1) WHERE (category_id = 12 AND position > 2) [0m
  [4;35;1mCategoryProduct Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mCategoryProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `category_products` ON `products`.id = `category_products`.product_id WHERE ((`category_products`.category_id = 12)) [0m
  [4;35;1mSQL (16.2ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mComment Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `comments`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 1, NULL, 'Acme products dont appear')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mComment Create (0.1ms)[0m   [0;1mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 1, NULL, 'Beers costs more')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` WHERE (`comments`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 1) [0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mComment Destroy (0.1ms)[0m   [0mDELETE FROM `comments` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET position = (position - 1) WHERE (bug_id IS NULL AND position > 2) [0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mComment Destroy (0.1ms)[0m   [0;1mDELETE FROM `comments` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(2, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 1, NULL, 'Beers costs more')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-19 04:59:28', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-19 04:59:28', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (`comments`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Update (0.1ms)[0m   [0;1mUPDATE `comments` SET `updated_at` = '2009-11-19 04:59:28', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mComment Update (0.1ms)[0m   [0mUPDATE `comments` SET `updated_at` = '2009-11-19 04:59:28', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mComment Load (0.1ms)[0m   [0mSELECT * FROM `comments` ORDER BY position[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` ORDER BY position[0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mComment Load (0.1ms)[0m   [0;1mSELECT * FROM `comments` WHERE (bug_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mComment Create (0.1ms)[0m   [0mINSERT INTO `comments` (`position`, `created_at`, `updated_at`, `user_id`, `bug_id`, `detail`) VALUES(1, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 1, NULL, 'Acme products dont appear')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mUser Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mSQL (3.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-19 04:59:28', 'image/jpeg', NULL, '2009-11-19 04:59:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 5 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:28', 'image/jpeg', 'thumb', '2009-11-19 04:59:28', 5, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-19 04:59:28', 'image/jpeg', NULL, '2009-11-19 04:59:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 7 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:28', 'image/jpeg', 'thumb', '2009-11-19 04:59:28', 7, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` WHERE (`images`.`parent_id` IS NULL) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (5,7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 5) ORDER BY position[0m
  [4;35;1mImageCategory Columns (0.2ms)[0m   [0mSHOW FIELDS FROM `category_images`[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 5) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position, position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 6) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 6) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 6) ORDER BY position, position[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 5 AND position > 1) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 6[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 5) ORDER BY position[0m
  [4;35;1mImage Destroy (0.1ms)[0m   [0mDELETE FROM `images` WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 7) ORDER BY position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 7) ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position, position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.image_id = 8) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.image_id = 8) ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 8) ORDER BY position, position[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET position = (position - 1) WHERE (parent_id = 7 AND position > 1) [0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 8[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 8[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET position = (position - 1) WHERE (parent_id IS NULL AND position > 2) [0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = NULL WHERE `id` = 7[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.parent_id = 7) ORDER BY position[0m
  [4;36;1mImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` ORDER BY position[0m
  [4;35;1mSQL (8.3ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-19 04:59:28', 'image/jpeg', NULL, '2009-11-19 04:59:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 9 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 9) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:28', 'image/jpeg', 'thumb', '2009-11-19 04:59:28', 9, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-3' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-19 04:59:28', 'image/jpeg', NULL, '2009-11-19 04:59:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 11 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-3' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 11) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:28', 'image/jpeg', 'thumb', '2009-11-19 04:59:28', 11, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = 2 WHERE `id` = 9[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = 1 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` IN (11,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = 2 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:28', `position` = 1 WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-4' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-19 04:59:28', 'image/jpeg', NULL, '2009-11-19 04:59:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 13 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-4' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 13) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:28', 'image/jpeg', 'thumb', '2009-11-19 04:59:28', 13, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-5' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-19 04:59:28', 'image/jpeg', NULL, '2009-11-19 04:59:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 15 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-5' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 15) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:28', 'image/jpeg', 'thumb', '2009-11-19 04:59:28', 15, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-19 04:59:28', '2009-11-19 04:59:28', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-19 04:59:28', '2009-11-19 04:59:28', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE (`categories`.`id` IN (14,15)) AND ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:28', `position` = 2 WHERE `id` = 14[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:28', `position` = 1 WHERE `id` = 15[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.`category_id` IN (15,14)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-19 04:59:28', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-19 04:59:28', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategoryImage Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 14) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 14 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Create (0.1ms)[0m   [0mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 14, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategoryImage Load (0.1ms)[0m   [0;1mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`image_id` = 13 AND `category_images`.category_id = 15) LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT `category_images`.id FROM `category_images` WHERE (`category_images`.`category_id` = 15 AND `category_images`.image_id = 13) LIMIT 1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` WHERE (image_id = 13) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mImageCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_images` (`image_id`, `position`, `created_at`, `updated_at`, `category_id`, `category_position`) VALUES(13, NULL, '2009-11-19 04:59:28', '2009-11-19 04:59:28', 15, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImageCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_images` WHERE (`category_images`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 1) [0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET `updated_at` = '2009-11-19 04:59:28', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mImageCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Update (0.1ms)[0m   [0mUPDATE `category_images` SET category_position = (category_position - 1) WHERE (image_id = 13 AND category_position > 2) [0m
  [4;36;1mImageCategory Update (0.1ms)[0m   [0;1mUPDATE `category_images` SET `updated_at` = '2009-11-19 04:59:28', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mImageCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_images` ORDER BY category_position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 13) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_images` ON `categories`.id = `category_images`.category_id WHERE ((`category_images`.image_id = 13)) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-6' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-19 04:59:28', 'image/jpeg', NULL, '2009-11-19 04:59:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 17 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-6' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 17) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:28', 'image/jpeg', 'thumb', '2009-11-19 04:59:28', 17, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-0' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.1ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-19 04:59:28', 'image/jpeg', NULL, '2009-11-19 04:59:28', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 19 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-0' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 19) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:29', 'image/jpeg', 'thumb', '2009-11-19 04:59:29', 19, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `product_images`[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-19 04:59:29', 4, '2009-11-19 04:59:29', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-19 04:59:29', 5, '2009-11-19 04:59:29', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE (`products`.`id` IN (5,4)) AND ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` IN (5,4) AND `product_images`.`image_id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 4 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 4) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 4) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-19 04:59:29', 4, '2009-11-19 04:59:29', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 5 AND `product_images`.image_id = 17) LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`image_id` = 17 AND `product_images`.product_id = 5) LIMIT 1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 5) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImageProduct Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(17, 1, '2009-11-19 04:59:29', 5, '2009-11-19 04:59:29', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImageProduct Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (3,4)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 4 AND position > 1) [0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 3[0m
  [4;35;1mImageProduct Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET position = (position - 1) WHERE (product_id = 5 AND position > 1) [0m
  [4;35;1mImageProduct Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mImageProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImageProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`id` = 17) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `product_images` ON `products`.id = `product_images`.product_id WHERE ((`product_images`.image_id = 17)) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme', 1, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers', 2, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` IN (8,9)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 8) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 8) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.2ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 8) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 8[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 9[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (`product_images`.product_id = 9) ORDER BY position, product_position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.product_id = 9) ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.product_id = 9) ORDER BY position[0m
  [4;36;1mProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `products` WHERE `id` = 9[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Acme products dont appear') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Acme products dont appear', 1, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Beers costs more') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Beers costs more', 2, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 10[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 11[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` IN (11,10)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 11[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 10[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Acme' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mCategory Create (0.1ms)[0m   [0;1mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Acme', 1, '2009-11-19 04:59:29', '2009-11-19 04:59:29', NULL, 'this description needs to be replaced')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.id FROM `categories` WHERE (`categories`.`name` = BINARY 'Widgets' AND `categories`.parent_id IS NULL) LIMIT 1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mCategory Create (0.1ms)[0m   [0mINSERT INTO `categories` (`name`, `position`, `created_at`, `updated_at`, `parent_id`, `description`) VALUES('Widgets', 2, '2009-11-19 04:59:29', '2009-11-19 04:59:29', NULL, 'this description needs to be replaced')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` ORDER BY position[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` ORDER BY position[0m
  [4;35;1mProductCategory Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `category_products`[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-19 04:59:29', 12, '2009-11-19 04:59:29', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-19 04:59:29', 12, '2009-11-19 04:59:29', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategory Load (0.2ms)[0m   [0;1mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE (`categories`.`id` IN (16,17)) AND ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Update (0.1ms)[0m   [0mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 16[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Update (0.1ms)[0m   [0;1mUPDATE `categories` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 17[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategory Load (0.2ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.`category_id` IN (17,16)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-19 04:59:29', `category_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-19 04:59:29', `category_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT `categories`.* FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mCategory Load (0.1ms)[0m   [0mSELECT * FROM `categories` WHERE (`categories`.`id` = 16) ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mCategoryProduct Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 16) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 16 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Create (0.1ms)[0m   [0mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-19 04:59:29', 12, '2009-11-19 04:59:29', 16, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `categories` WHERE (`categories`.`id` = 17) ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;36;1mCategoryProduct Load (0.1ms)[0m   [0;1mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`product_id` = 12 AND `category_products`.category_id = 17) LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT `category_products`.id FROM `category_products` WHERE (`category_products`.`category_id` = 17 AND `category_products`.product_id = 12) LIMIT 1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` WHERE (product_id = 12) ORDER BY category_position DESC, category_position LIMIT 1[0m
  [4;36;1mProductCategory Create (0.1ms)[0m   [0;1mINSERT INTO `category_products` (`position`, `created_at`, `product_id`, `updated_at`, `category_id`, `category_position`) VALUES(NULL, '2009-11-19 04:59:29', 12, '2009-11-19 04:59:29', 17, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProductCategory Load (0.1ms)[0m   [0;1mSELECT * FROM `category_products` WHERE (`category_products`.`id` IN (7,8)) ORDER BY category_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 1) [0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET `updated_at` = '2009-11-19 04:59:29', `category_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductCategory Destroy (0.1ms)[0m   [0;1mDELETE FROM `category_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Update (0.1ms)[0m   [0mUPDATE `category_products` SET category_position = (category_position - 1) WHERE (product_id = 12 AND category_position > 2) [0m
  [4;36;1mProductCategory Update (0.1ms)[0m   [0;1mUPDATE `category_products` SET `updated_at` = '2009-11-19 04:59:29', `category_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductCategory Destroy (0.1ms)[0m   [0mDELETE FROM `category_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductCategory Load (0.1ms)[0m   [0mSELECT * FROM `category_products` ORDER BY category_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 12) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `categories` INNER JOIN `category_products` ON `categories`.id = `category_products`.category_id WHERE ((`category_products`.product_id = 12)) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-1' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, 'Test product 1', 13700, '2009-11-19 04:59:29', 'image/jpeg', NULL, '2009-11-19 04:59:29', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` WHERE (`images`.`parent_id` = 21 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-1' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (0.1ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id = 21) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.2ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:29', 'image/jpeg', 'thumb', '2009-11-19 04:59:29', 21, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSAVEPOINT active_record_1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-2' @ jpeg.c/EmitMessage/231
  [4;36;1mImage Load (11.5ms)[0m   [0;1mSELECT * FROM `images` WHERE (parent_id IS NULL) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mImage Create (0.2ms)[0m   [0mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(2, 'Test product 2', 13700, '2009-11-19 04:59:29', 'image/jpeg', NULL, '2009-11-19 04:59:29', NULL, 'c4e87a3a.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` = 23 AND `images`.`thumbnail` = 'thumb') ORDER BY position LIMIT 1[0m
Exception working with image: Wrong JPEG library version: library is 62, caller expects 70 `/tmp/open-uri17481-2' @ jpeg.c/EmitMessage/231
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT * FROM `images` WHERE (parent_id = 23) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mImage Create (0.1ms)[0m   [0;1mINSERT INTO `images` (`position`, `name`, `size`, `created_at`, `content_type`, `thumbnail`, `updated_at`, `parent_id`, `filename`, `height`, `description`, `width`) VALUES(1, '', 13700, '2009-11-19 04:59:29', 'image/jpeg', 'thumb', '2009-11-19 04:59:29', 23, 'c4e87a3a_thumb.jpg', NULL, 'this description needs to be replaced', NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT * FROM `images` WHERE (`images`.`parent_id` IS NULL) ORDER BY position[0m
  [4;35;1mImage Load (0.1ms)[0m   [0mSELECT * FROM `images` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-19 04:59:29', 14, '2009-11-19 04:59:29', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-19 04:59:29', 14, '2009-11-19 04:59:29', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mImage Load (0.2ms)[0m   [0;1mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE (`images`.`id` IN (23,21)) AND ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mImage Update (0.1ms)[0m   [0mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 21[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mImage Update (0.1ms)[0m   [0;1mUPDATE `images` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 23[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.`image_id` IN (23,21)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-19 04:59:29', `product_position` = NULL WHERE `id` = 5[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-19 04:59:29', `product_position` = NULL WHERE `id` = 6[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;35;1mImage Load (0.2ms)[0m   [0mSELECT `images`.* FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 21) LIMIT 1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;35;1mProductImage Create (0.1ms)[0m   [0mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(21, NULL, '2009-11-19 04:59:29', 14, '2009-11-19 04:59:29', 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT `product_images`.id FROM `product_images` WHERE (`product_images`.`product_id` = 14 AND `product_images`.image_id = 23) LIMIT 1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` WHERE (product_id = 14) ORDER BY product_position DESC, product_position LIMIT 1[0m
  [4;36;1mProductImage Create (0.1ms)[0m   [0;1mINSERT INTO `product_images` (`image_id`, `position`, `created_at`, `product_id`, `updated_at`, `product_position`) VALUES(23, NULL, '2009-11-19 04:59:29', 14, '2009-11-19 04:59:29', 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProductImage Load (0.1ms)[0m   [0;1mSELECT * FROM `product_images` WHERE (`product_images`.`id` IN (7,8)) ORDER BY product_position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 1) [0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET `updated_at` = '2009-11-19 04:59:29', `product_position` = NULL WHERE `id` = 7[0m
  [4;36;1mProductImage Destroy (0.1ms)[0m   [0;1mDELETE FROM `product_images` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductImage Update (0.1ms)[0m   [0mUPDATE `product_images` SET product_position = (product_position - 1) WHERE (product_id = 14 AND product_position > 2) [0m
  [4;36;1mProductImage Update (0.1ms)[0m   [0;1mUPDATE `product_images` SET `updated_at` = '2009-11-19 04:59:29', `product_position` = NULL WHERE `id` = 8[0m
  [4;35;1mProductImage Destroy (0.1ms)[0m   [0mDELETE FROM `product_images` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductImage Load (0.1ms)[0m   [0mSELECT * FROM `product_images` ORDER BY product_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 14) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `images` INNER JOIN `product_images` ON `images`.id = `product_images`.image_id WHERE ((`product_images`.product_id = 14)) [0m
  [4;36;1mSQL (31.4ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSupplier Columns (0.5ms)[0m   [0;1mSHOW FIELDS FROM `suppliers`[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProductSupplier Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Columns (0.3ms)[0m   [0mSHOW FIELDS FROM `supplier_products`[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-19 04:59:29', 16, '2009-11-19 04:59:29', 1, 1)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-19 04:59:29', 16, '2009-11-19 04:59:29', 2, 2)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mSupplier Load (0.2ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE (`suppliers`.`id` IN (1,2)) AND ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 2[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSupplier Load (0.2ms)[0m   [0;1mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` IN (2,1) AND `supplier_products`.`product_id` = 16) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-19 04:59:29', `supplier_position` = NULL WHERE `id` = 1[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-19 04:59:29', `supplier_position` = NULL WHERE `id` = 2[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.* FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 1) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 1 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-19 04:59:29', 16, '2009-11-19 04:59:29', 1, 1)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 16 AND `supplier_products`.supplier_id = 2) LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 2 AND `supplier_products`.product_id = 16) LIMIT 1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (product_id = 16) ORDER BY supplier_position DESC, supplier_position LIMIT 1[0m
  [4;36;1mProductSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(NULL, '2009-11-19 04:59:29', 16, '2009-11-19 04:59:29', 2, 2)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProductSupplier Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (3,4)) ORDER BY supplier_position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 1) [0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-19 04:59:29', `supplier_position` = NULL WHERE `id` = 3[0m
  [4;35;1mProductSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET supplier_position = (supplier_position - 1) WHERE (product_id = 16 AND supplier_position > 2) [0m
  [4;35;1mProductSupplier Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-19 04:59:29', `supplier_position` = NULL WHERE `id` = 4[0m
  [4;36;1mProductSupplier Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProductSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY supplier_position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (`products`.`id` = 16) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `suppliers` INNER JOIN `supplier_products` ON `suppliers`.id = `supplier_products`.supplier_id WHERE ((`supplier_products`.product_id = 16)) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 'a random blurb', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 'yet more blurm', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (`roles`.`id` IN (1,2)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 1[0m
  [4;35;1mRole Destroy (0.1ms)[0m   [0mDELETE FROM `roles` WHERE `id` = 1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 2[0m
  [4;36;1mRole Destroy (0.1ms)[0m   [0;1mDELETE FROM `roles` WHERE `id` = 2[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.9ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mRole Create (0.1ms)[0m   [0;1mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 1', 1, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 'a random blurb', 0)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT `roles`.id FROM `roles` WHERE (`roles`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mRole Create (0.1ms)[0m   [0mINSERT INTO `roles` (`name`, `position`, `created_at`, `updated_at`, `description`, `active`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 'yet more blurm', 0)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 3[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` WHERE (`roles`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mRole Update (0.1ms)[0m   [0;1mUPDATE `roles` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 4[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mRole Update (0.1ms)[0m   [0mUPDATE `roles` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` ORDER BY position[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` ORDER BY position[0m
  [4;35;1mSQL (0.5ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mROLLBACK[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplier Create (0.1ms)[0m   [0mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (3,4)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 1) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 3[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 3) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 3[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET position = (position - 1) WHERE (1 = 1 AND position > 2) [0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 4[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.supplier_id = 4) ORDER BY position[0m
  [4;35;1mSupplier Destroy (0.1ms)[0m   [0mDELETE FROM `suppliers` WHERE `id` = 4[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'aTest product 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.com') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('aTest product 1', 1, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.com')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'foo@bar.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'foo@bar.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 5[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 6[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` IN (5,6)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Update (0.1ms)[0m   [0mUPDATE `suppliers` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplier Update (0.1ms)[0m   [0;1mUPDATE `suppliers` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 1') LIMIT 1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mProduct Create (0.1ms)[0m   [0mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 1', 1, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.id FROM `products` WHERE (`products`.`name` = BINARY 'Test product 2') LIMIT 1[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mProduct Create (0.1ms)[0m   [0;1mINSERT INTO `products` (`name`, `position`, `created_at`, `cost_price`, `updated_at`, `weight`, `supplier_id`, `packaging`, `filename`, `description`, `order_code`) VALUES('Test product 2', 2, '2009-11-19 04:59:29', 0, '2009-11-19 04:59:29', 0, 6, 'empty', 'empty', 'empty', 'empty')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `products` ORDER BY position[0m
  [4;35;1mProduct Load (0.1ms)[0m   [0mSELECT * FROM `products` ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 1') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier@foo.bar') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 1', 1, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier@foo.bar')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`name` = BINARY 'Test supplier 2') LIMIT 1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT `suppliers`.id FROM `suppliers` WHERE (`suppliers`.`email` = BINARY 'supplier2@foo.co.uk') LIMIT 1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (1 = 1) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplier Create (0.1ms)[0m   [0;1mINSERT INTO `suppliers` (`name`, `position`, `created_at`, `updated_at`, `account`, `sort_code`, `bank_name`, `dialing_code`, `description`, `telephone`, `email`) VALUES('Test supplier 2', 2, '2009-11-19 04:59:29', '2009-11-19 04:59:29', 12445, 12445, 'Test ', 12445, 'a random blurb', 12445, 'supplier2@foo.co.uk')[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-19 04:59:29', 18, '2009-11-19 04:59:29', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-19 04:59:29', 19, '2009-11-19 04:59:29', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE (`products`.`id` IN (18,19)) AND ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mProduct Update (0.1ms)[0m   [0mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = 2 WHERE `id` = 18[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mProduct Update (0.1ms)[0m   [0;1mUPDATE `products` SET `updated_at` = '2009-11-19 04:59:29', `position` = 1 WHERE `id` = 19[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`supplier_id` = 7 AND `supplier_products`.`product_id` IN (19,18)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 5[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 5[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 6[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 6[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplier Load (0.1ms)[0m   [0mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT `products`.* FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 18 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;36;1mSupplierProduct Create (0.1ms)[0m   [0;1mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(1, '2009-11-19 04:59:29', 18, '2009-11-19 04:59:29', 7, NULL)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT `supplier_products`.id FROM `supplier_products` WHERE (`supplier_products`.`product_id` = 19 AND `supplier_products`.supplier_id = 7) LIMIT 1[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (supplier_id = 7) ORDER BY position DESC, position LIMIT 1[0m
  [4;35;1mSupplierProduct Create (0.1ms)[0m   [0mINSERT INTO `supplier_products` (`position`, `created_at`, `product_id`, `updated_at`, `supplier_id`, `supplier_position`) VALUES(2, '2009-11-19 04:59:29', 19, '2009-11-19 04:59:29', 7, NULL)[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplierProduct Load (0.1ms)[0m   [0;1mSELECT * FROM `supplier_products` WHERE (`supplier_products`.`id` IN (7,8)) ORDER BY position[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSAVEPOINT active_record_1[0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 1) [0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 7[0m
  [4;36;1mSupplierProduct Destroy (0.1ms)[0m   [0;1mDELETE FROM `supplier_products` WHERE `id` = 7[0m
  [4;35;1mSQL (0.0ms)[0m   [0mRELEASE SAVEPOINT active_record_1[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mSAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Update (0.1ms)[0m   [0mUPDATE `supplier_products` SET position = (position - 1) WHERE (supplier_id = 7 AND position > 2) [0m
  [4;36;1mSupplierProduct Update (0.1ms)[0m   [0;1mUPDATE `supplier_products` SET `updated_at` = '2009-11-19 04:59:29', `position` = NULL WHERE `id` = 8[0m
  [4;35;1mSupplierProduct Destroy (0.1ms)[0m   [0mDELETE FROM `supplier_products` WHERE `id` = 8[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mRELEASE SAVEPOINT active_record_1[0m
  [4;35;1mSupplierProduct Load (0.1ms)[0m   [0mSELECT * FROM `supplier_products` ORDER BY position[0m
  [4;36;1mSupplier Load (0.1ms)[0m   [0;1mSELECT * FROM `suppliers` WHERE (`suppliers`.`id` = 7) ORDER BY position[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `products` INNER JOIN `supplier_products` ON `products`.id = `supplier_products`.product_id WHERE ((`supplier_products`.supplier_id = 7)) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mROLLBACK[0m
  [4;35;1mSQL (0.0ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mROLLBACK[0m
